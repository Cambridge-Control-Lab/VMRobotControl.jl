<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Developer Notes · VMRobotControl.jl</title><meta name="title" content="Developer Notes · VMRobotControl.jl"/><meta property="og:title" content="Developer Notes · VMRobotControl.jl"/><meta property="twitter:title" content="Developer Notes · VMRobotControl.jl"/><meta name="description" content="Documentation for VMRobotControl.jl."/><meta property="og:description" content="Documentation for VMRobotControl.jl."/><meta property="twitter:description" content="Documentation for VMRobotControl.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">VMRobotControl.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/introduction/">Introduction</a></li><li><a class="tocitem" href="../../tutorials/building/">Building a mechanism</a></li><li><a class="tocitem" href="../../tutorials/using/">Using a mechanism</a></li><li><a class="tocitem" href="../../tutorials/vms/">Virtual Model Control of a Simulated Robot</a></li><li><a class="tocitem" href="../../tutorials/plotting/">Plotting with Makie.jl</a></li><li><a class="tocitem" href="../../tutorials/simulating/">Simulating with DifferentialEquations.jl</a></li><li><a class="tocitem" href="../../tutorials/control/">Virtual Model Control of a Real Robot using ROS</a></li><li><a class="tocitem" href="../../tutorials/optimization/">Optimization</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/franka_impedance_control/">Franka Impedance Control</a></li><li><a class="tocitem" href="../../examples/sciurus_reaching/">Sciurus reaching with obstacle avoidance</a></li><li><a class="tocitem" href="../../examples/compliant_path_following/">Franka compliant path following</a></li><li><a class="tocitem" href="../../examples/rail_robot/">Pendulum on a Bezier-Spline Rail</a></li></ul></li><li><a class="tocitem" href="../../api/api/">API</a></li><li class="is-active"><a class="tocitem" href>Developer Notes</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Testing"><span>Testing</span></a></li><li class="toplevel"><a class="tocitem" href="#Kinematics-computations"><span>Kinematics computations</span></a></li><li class="toplevel"><a class="tocitem" href="#TypeStableCollection"><span>TypeStableCollection</span></a></li><li class="toplevel"><a class="tocitem" href="#Transforms"><span>Transforms</span></a></li><li class="toplevel"><a class="tocitem" href="#Other-API-documentation"><span>Other API documentation</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Developer Notes</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Developer Notes</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/main/docs/src/developer/developer.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Additional-info-for-Developers"><a class="docs-heading-anchor" href="#Additional-info-for-Developers">Additional info for Developers</a><a id="Additional-info-for-Developers-1"></a><a class="docs-heading-anchor-permalink" href="#Additional-info-for-Developers" title="Permalink"></a></h1><ul><li><a href="#VMRobotControl.AbstractJointData"><code>VMRobotControl.AbstractJointData</code></a></li><li><a href="#VMRobotControl.CompiledCoordID"><code>VMRobotControl.CompiledCoordID</code></a></li><li><a href="#VMRobotControl.CompiledMechanism"><code>VMRobotControl.CompiledMechanism</code></a></li><li><a href="#VMRobotControl.CompiledVirtualMechanismSystem"><code>VMRobotControl.CompiledVirtualMechanismSystem</code></a></li><li><a href="#VMRobotControl.ComponentData"><code>VMRobotControl.ComponentData</code></a></li><li><a href="../../api/api/#VMRobotControl.ConstCoord"><code>VMRobotControl.ConstCoord</code></a></li><li><a href="../../api/api/#VMRobotControl.CoordDifference"><code>VMRobotControl.CoordDifference</code></a></li><li><a href="../../api/api/#VMRobotControl.CoordSlice"><code>VMRobotControl.CoordSlice</code></a></li><li><a href="../../api/api/#VMRobotControl.CoordStack"><code>VMRobotControl.CoordStack</code></a></li><li><a href="../../api/api/#VMRobotControl.CoordSum"><code>VMRobotControl.CoordSum</code></a></li><li><a href="../../api/api/#VMRobotControl.CoordinateData"><code>VMRobotControl.CoordinateData</code></a></li><li><a href="../../api/api/#VMRobotControl.DiodicDamper"><code>VMRobotControl.DiodicDamper</code></a></li><li><a href="#VMRobotControl.Dissipation"><code>VMRobotControl.Dissipation</code></a></li><li><a href="#VMRobotControl.EltypeCache"><code>VMRobotControl.EltypeCache</code></a></li><li><a href="../../api/api/#VMRobotControl.ForceSource"><code>VMRobotControl.ForceSource</code></a></li><li><a href="../../api/api/#VMRobotControl.FrameAngularVelocity"><code>VMRobotControl.FrameAngularVelocity</code></a></li><li><a href="../../api/api/#VMRobotControl.FrameOrigin"><code>VMRobotControl.FrameOrigin</code></a></li><li><a href="../../api/api/#VMRobotControl.FramePoint"><code>VMRobotControl.FramePoint</code></a></li><li><a href="../../api/api/#VMRobotControl.GaussianSpring"><code>VMRobotControl.GaussianSpring</code></a></li><li><a href="#VMRobotControl.GenericComponent"><code>VMRobotControl.GenericComponent</code></a></li><li><a href="../../api/api/#VMRobotControl.GravityCompensator"><code>VMRobotControl.GravityCompensator</code></a></li><li><a href="#VMRobotControl.Inertance"><code>VMRobotControl.Inertance</code></a></li><li><a href="../../api/api/#VMRobotControl.Inertia"><code>VMRobotControl.Inertia</code></a></li><li><a href="../../api/api/#VMRobotControl.JointSubspace"><code>VMRobotControl.JointSubspace</code></a></li><li><a href="../../api/api/#VMRobotControl.LinearDamper"><code>VMRobotControl.LinearDamper</code></a></li><li><a href="../../api/api/#VMRobotControl.LinearInerter"><code>VMRobotControl.LinearInerter</code></a></li><li><a href="../../api/api/#VMRobotControl.LinearSpring"><code>VMRobotControl.LinearSpring</code></a></li><li><a href="../../api/api/#VMRobotControl.Mechanism"><code>VMRobotControl.Mechanism</code></a></li><li><a href="#VMRobotControl.MechanismJoint"><code>VMRobotControl.MechanismJoint</code></a></li><li><a href="../../api/api/#VMRobotControl.PointMass"><code>VMRobotControl.PointMass</code></a></li><li><a href="../../api/api/#VMRobotControl.PowerSource"><code>VMRobotControl.PowerSource</code></a></li><li><a href="../../api/api/#VMRobotControl.QuaternionAttitude"><code>VMRobotControl.QuaternionAttitude</code></a></li><li><a href="#VMRobotControl.RBTree"><code>VMRobotControl.RBTree</code></a></li><li><a href="../../api/api/#VMRobotControl.RSON.RSONParserConfig"><code>VMRobotControl.RSON.RSONParserConfig</code></a></li><li><a href="../../api/api/#VMRobotControl.RectifiedDamper"><code>VMRobotControl.RectifiedDamper</code></a></li><li><a href="../../api/api/#VMRobotControl.ReferenceCoord"><code>VMRobotControl.ReferenceCoord</code></a></li><li><a href="../../api/api/#VMRobotControl.ReferenceJoint"><code>VMRobotControl.ReferenceJoint</code></a></li><li><a href="../../api/api/#VMRobotControl.Rigid"><code>VMRobotControl.Rigid</code></a></li><li><a href="../../api/api/#VMRobotControl.RotatedCoord"><code>VMRobotControl.RotatedCoord</code></a></li><li><a href="../../api/api/#VMRobotControl.Storage"><code>VMRobotControl.Storage</code></a></li><li><a href="../../api/api/#VMRobotControl.TanhDamper"><code>VMRobotControl.TanhDamper</code></a></li><li><a href="../../api/api/#VMRobotControl.TanhSpring"><code>VMRobotControl.TanhSpring</code></a></li><li><a href="#VMRobotControl.TimeFuncJoint"><code>VMRobotControl.TimeFuncJoint</code></a></li><li><a href="#VMRobotControl.Transforms.EulerVector"><code>VMRobotControl.Transforms.EulerVector</code></a></li><li><a href="#VMRobotControl.Transforms.SpatialAcceleration"><code>VMRobotControl.Transforms.SpatialAcceleration</code></a></li><li><a href="#VMRobotControl.Transforms.Transform"><code>VMRobotControl.Transforms.Transform</code></a></li><li><a href="#VMRobotControl.Transforms.Twist"><code>VMRobotControl.Transforms.Twist</code></a></li><li><a href="#VMRobotControl.TypeStableCollections.TypeStableCollection-Tuple{}"><code>VMRobotControl.TypeStableCollections.TypeStableCollection</code></a></li><li><a href="#VMRobotControl.TypeStableCollections.TypeStableCollection"><code>VMRobotControl.TypeStableCollections.TypeStableCollection</code></a></li><li><a href="#VMRobotControl.TypeStableCollections.TypeStableIdx"><code>VMRobotControl.TypeStableCollections.TypeStableIdx</code></a></li><li><a href="../../api/api/#VMRobotControl.URDF.URDFParserConfig"><code>VMRobotControl.URDF.URDFParserConfig</code></a></li><li><a href="../../api/api/#VMRobotControl.UnrotatedCoord"><code>VMRobotControl.UnrotatedCoord</code></a></li><li><a href="../../api/api/#VMRobotControl.VirtualMechanismSystem"><code>VMRobotControl.VirtualMechanismSystem</code></a></li><li><a href="../../api/api/#VMRobotControl.Prismatic"><code>VMRobotControl.Prismatic</code></a></li><li><a href="../../api/api/#VMRobotControl.RSON.parseRSON"><code>VMRobotControl.RSON.parseRSON</code></a></li><li><a href="#VMRobotControl.RSON.parseRSONString"><code>VMRobotControl.RSON.parseRSONString</code></a></li><li><a href="#VMRobotControl.RSON.parseRSONVersion"><code>VMRobotControl.RSON.parseRSONVersion</code></a></li><li><a href="../../api/api/#VMRobotControl.RSON.serializeRSON"><code>VMRobotControl.RSON.serializeRSON</code></a></li><li><a href="../../api/api/#VMRobotControl.Rail"><code>VMRobotControl.Rail</code></a></li><li><a href="../../api/api/#VMRobotControl.Revolute"><code>VMRobotControl.Revolute</code></a></li><li><a href="#VMRobotControl.Spherical"><code>VMRobotControl.Spherical</code></a></li><li><a href="#VMRobotControl.Splines.curve_derivative"><code>VMRobotControl.Splines.curve_derivative</code></a></li><li><a href="#VMRobotControl.Splines.curve_position"><code>VMRobotControl.Splines.curve_position</code></a></li><li><a href="#VMRobotControl.Splines.curve_second_derivative"><code>VMRobotControl.Splines.curve_second_derivative</code></a></li><li><a href="#VMRobotControl.Transforms.AxisAngleDerivative-Union{Tuple{T}, Tuple{Any, T}} where T"><code>VMRobotControl.Transforms.AxisAngleDerivative</code></a></li><li><a href="#VMRobotControl.Transforms.angular_velocity_prematrix-Tuple{Rotor}"><code>VMRobotControl.Transforms.angular_velocity_prematrix</code></a></li><li><a href="#VMRobotControl.Transforms.angular_velocity_prematrix_derivative-Tuple{SVector{4}}"><code>VMRobotControl.Transforms.angular_velocity_prematrix_derivative</code></a></li><li><a href="#VMRobotControl.Transforms.quaternion_derivative_propagation-Tuple{Rotor}"><code>VMRobotControl.Transforms.quaternion_derivative_propagation</code></a></li><li><a href="#VMRobotControl.Transforms.quaternion_derivative_propagation_derivative-Tuple{Rotor, SVector{3}}"><code>VMRobotControl.Transforms.quaternion_derivative_propagation_derivative</code></a></li><li><a href="#VMRobotControl.Transforms.quatmul_geodual_bivector_matrix-Tuple{Rotor}"><code>VMRobotControl.Transforms.quatmul_geodual_bivector_matrix</code></a></li><li><a href="#VMRobotControl.Transforms.skew-Union{Tuple{SVector{3, T}}, Tuple{T}} where T"><code>VMRobotControl.Transforms.skew</code></a></li><li><a href="#VMRobotControl.TypeStableCollections.extend-Union{Tuple{T}, Tuple{TUPTYPE}, Tuple{VMRobotControl.TypeStableCollections.TypeStableCollection{TUPTYPE}, T}} where {TUPTYPE, T}"><code>VMRobotControl.TypeStableCollections.extend</code></a></li><li><a href="#VMRobotControl.TypeStableCollections.push_return_index!-Union{Tuple{T}, Tuple{TUPTYPE}, Tuple{VMRobotControl.TypeStableCollections.TypeStableCollection{TUPTYPE}, T}} where {TUPTYPE, T}"><code>VMRobotControl.TypeStableCollections.push_return_index!</code></a></li><li><a href="../../api/api/#VMRobotControl.URDF.parseURDF"><code>VMRobotControl.URDF.parseURDF</code></a></li><li><a href="#VMRobotControl.URDF.parseURDFString"><code>VMRobotControl.URDF.parseURDFString</code></a></li><li><a href="#VMRobotControl._add_jacobian_transpose_times_force!"><code>VMRobotControl._add_jacobian_transpose_times_force!</code></a></li><li><a href="#VMRobotControl._construct_coordinate_graph"><code>VMRobotControl._construct_coordinate_graph</code></a></li><li><a href="../../api/api/#VMRobotControl.acceleration_kinematics!"><code>VMRobotControl.acceleration_kinematics!</code></a></li><li><a href="../../api/api/#VMRobotControl.add_component!"><code>VMRobotControl.add_component!</code></a></li><li><a href="../../api/api/#VMRobotControl.add_coordinate!"><code>VMRobotControl.add_coordinate!</code></a></li><li><a href="../../api/api/#VMRobotControl.add_frame!"><code>VMRobotControl.add_frame!</code></a></li><li><a href="../../api/api/#VMRobotControl.add_gravity_compensation!"><code>VMRobotControl.add_gravity_compensation!</code></a></li><li><a href="../../api/api/#VMRobotControl.add_gravity_compensator!"><code>VMRobotControl.add_gravity_compensator!</code></a></li><li><a href="../../api/api/#VMRobotControl.add_inertia!"><code>VMRobotControl.add_inertia!</code></a></li><li><a href="../../api/api/#VMRobotControl.add_joint!"><code>VMRobotControl.add_joint!</code></a></li><li><a href="../../api/api/#VMRobotControl.assemble_state"><code>VMRobotControl.assemble_state</code></a></li><li><a href="#VMRobotControl.autodiff_jacobian_column"><code>VMRobotControl.autodiff_jacobian_column</code></a></li><li><a href="#VMRobotControl.child_frame_twist"><code>VMRobotControl.child_frame_twist</code></a></li><li><a href="#VMRobotControl.child_rbstate"><code>VMRobotControl.child_rbstate</code></a></li><li><a href="../../api/api/#VMRobotControl.compile"><code>VMRobotControl.compile</code></a></li><li><a href="../../api/api/#VMRobotControl.components"><code>VMRobotControl.components</code></a></li><li><a href="../../api/api/#VMRobotControl.config_size"><code>VMRobotControl.config_size</code></a></li><li><a href="../../api/api/#VMRobotControl.configuration"><code>VMRobotControl.configuration</code></a></li><li><a href="../../api/api/#VMRobotControl.control_step!"><code>VMRobotControl.control_step!</code></a></li><li><a href="../../api/api/#VMRobotControl.coordinates"><code>VMRobotControl.coordinates</code></a></li><li><a href="../../api/api/#VMRobotControl.dissipations"><code>VMRobotControl.dissipations</code></a></li><li><a href="../../api/api/#VMRobotControl.dynamics!"><code>VMRobotControl.dynamics!</code></a></li><li><a href="#VMRobotControl.frame_ancestor_matrix"><code>VMRobotControl.frame_ancestor_matrix</code></a></li><li><a href="../../api/api/#VMRobotControl.frames"><code>VMRobotControl.frames</code></a></li><li><a href="../../api/api/#VMRobotControl.generalized_force!"><code>VMRobotControl.generalized_force!</code></a></li><li><a href="../../api/api/#VMRobotControl.generic_components"><code>VMRobotControl.generic_components</code></a></li><li><a href="../../api/api/#VMRobotControl.get_angular_acceleration"><code>VMRobotControl.get_angular_acceleration</code></a></li><li><a href="../../api/api/#VMRobotControl.get_angular_jacobian"><code>VMRobotControl.get_angular_jacobian</code></a></li><li><a href="../../api/api/#VMRobotControl.get_angular_vel"><code>VMRobotControl.get_angular_vel</code></a></li><li><a href="../../api/api/#VMRobotControl.get_angular_vpa"><code>VMRobotControl.get_angular_vpa</code></a></li><li><a href="../../api/api/#VMRobotControl.get_compiled_componentID"><code>VMRobotControl.get_compiled_componentID</code></a></li><li><a href="../../api/api/#VMRobotControl.get_compiled_coordID"><code>VMRobotControl.get_compiled_coordID</code></a></li><li><a href="../../api/api/#VMRobotControl.get_compiled_frameID"><code>VMRobotControl.get_compiled_frameID</code></a></li><li><a href="../../api/api/#VMRobotControl.get_compiled_jointID"><code>VMRobotControl.get_compiled_jointID</code></a></li><li><a href="../../api/api/#VMRobotControl.get_generalized_force"><code>VMRobotControl.get_generalized_force</code></a></li><li><a href="../../api/api/#VMRobotControl.get_inertance_matrix"><code>VMRobotControl.get_inertance_matrix</code></a></li><li><a href="../../api/api/#VMRobotControl.get_linear_acceleration"><code>VMRobotControl.get_linear_acceleration</code></a></li><li><a href="../../api/api/#VMRobotControl.get_linear_jacobian"><code>VMRobotControl.get_linear_jacobian</code></a></li><li><a href="../../api/api/#VMRobotControl.get_linear_vel"><code>VMRobotControl.get_linear_vel</code></a></li><li><a href="../../api/api/#VMRobotControl.get_linear_vpa"><code>VMRobotControl.get_linear_vpa</code></a></li><li><a href="../../api/api/#VMRobotControl.get_ode_dynamics"><code>VMRobotControl.get_ode_dynamics</code></a></li><li><a href="../../api/api/#VMRobotControl.get_ode_problem"><code>VMRobotControl.get_ode_problem</code></a></li><li><a href="../../api/api/#VMRobotControl.get_q"><code>VMRobotControl.get_q</code></a></li><li><a href="../../api/api/#VMRobotControl.get_q̇"><code>VMRobotControl.get_q̇</code></a></li><li><a href="../../api/api/#VMRobotControl.get_q̈"><code>VMRobotControl.get_q̈</code></a></li><li><a href="../../api/api/#VMRobotControl.get_rbstate"><code>VMRobotControl.get_rbstate</code></a></li><li><a href="../../api/api/#VMRobotControl.get_t"><code>VMRobotControl.get_t</code></a></li><li><a href="../../api/api/#VMRobotControl.get_transform"><code>VMRobotControl.get_transform</code></a></li><li><a href="../../api/api/#VMRobotControl.get_u"><code>VMRobotControl.get_u</code></a></li><li><a href="../../api/api/#VMRobotControl.inertance_matrix!"><code>VMRobotControl.inertance_matrix!</code></a></li><li><a href="../../api/api/#VMRobotControl.inertances"><code>VMRobotControl.inertances</code></a></li><li><a href="../../api/api/#VMRobotControl.jacobian"><code>VMRobotControl.jacobian</code></a></li><li><a href="#VMRobotControl.jacobian_column"><code>VMRobotControl.jacobian_column</code></a></li><li><a href="../../api/api/#VMRobotControl.jacobians!"><code>VMRobotControl.jacobians!</code></a></li><li><a href="#VMRobotControl.joint_relative_acceleration"><code>VMRobotControl.joint_relative_acceleration</code></a></li><li><a href="#VMRobotControl.joint_relative_transform"><code>VMRobotControl.joint_relative_transform</code></a></li><li><a href="#VMRobotControl.joint_relative_twist"><code>VMRobotControl.joint_relative_twist</code></a></li><li><a href="#VMRobotControl.joint_relative_vpa"><code>VMRobotControl.joint_relative_vpa</code></a></li><li><a href="../../api/api/#VMRobotControl.joints"><code>VMRobotControl.joints</code></a></li><li><a href="../../api/api/#VMRobotControl.kinematics!"><code>VMRobotControl.kinematics!</code></a></li><li><a href="../../api/api/#VMRobotControl.name"><code>VMRobotControl.name</code></a></li><li><a href="../../api/api/#VMRobotControl.ndof"><code>VMRobotControl.ndof</code></a></li><li><a href="../../api/api/#VMRobotControl.new_control_cache"><code>VMRobotControl.new_control_cache</code></a></li><li><a href="../../api/api/#VMRobotControl.new_dynamics_cache"><code>VMRobotControl.new_dynamics_cache</code></a></li><li><a href="../../api/api/#VMRobotControl.new_jacobians_cache"><code>VMRobotControl.new_jacobians_cache</code></a></li><li><a href="../../api/api/#VMRobotControl.new_kinematics_cache"><code>VMRobotControl.new_kinematics_cache</code></a></li><li><a href="../../api/api/#VMRobotControl.new_rbstates_cache"><code>VMRobotControl.new_rbstates_cache</code></a></li><li><a href="../../api/api/#VMRobotControl.num_frames"><code>VMRobotControl.num_frames</code></a></li><li><a href="../../api/api/#VMRobotControl.opspace_force"><code>VMRobotControl.opspace_force</code></a></li><li><a href="../../api/api/#VMRobotControl.precompute!"><code>VMRobotControl.precompute!</code></a></li><li><a href="#VMRobotControl.reassign_coords"><code>VMRobotControl.reassign_coords</code></a></li><li><a href="#VMRobotControl.reassign_frames"><code>VMRobotControl.reassign_frames</code></a></li><li><a href="#VMRobotControl.reassign_joints"><code>VMRobotControl.reassign_joints</code></a></li><li><a href="#VMRobotControl.remake"><code>VMRobotControl.remake</code></a></li><li><a href="#VMRobotControl.rigid_joint_twist"><code>VMRobotControl.rigid_joint_twist</code></a></li><li><a href="../../api/api/#VMRobotControl.root_frame"><code>VMRobotControl.root_frame</code></a></li><li><a href="#VMRobotControl.state_idxs"><code>VMRobotControl.state_idxs</code></a></li><li><a href="../../api/api/#VMRobotControl.storages"><code>VMRobotControl.storages</code></a></li><li><a href="../../api/api/#VMRobotControl.stored_energy"><code>VMRobotControl.stored_energy</code></a></li><li><a href="../../api/api/#VMRobotControl.velocity"><code>VMRobotControl.velocity</code></a></li><li><a href="../../api/api/#VMRobotControl.velocity_kinematics!"><code>VMRobotControl.velocity_kinematics!</code></a></li><li><a href="../../api/api/#VMRobotControl.velocity_size"><code>VMRobotControl.velocity_size</code></a></li><li><a href="../../api/api/#VMRobotControl.visuals"><code>VMRobotControl.visuals</code></a></li><li><a href="../../api/api/#VMRobotControl.zero_q"><code>VMRobotControl.zero_q</code></a></li><li><a href="../../api/api/#VMRobotControl.zero_q̇"><code>VMRobotControl.zero_q̇</code></a></li><li><a href="../../api/api/#VMRobotControl.zero_q̈"><code>VMRobotControl.zero_q̈</code></a></li><li><a href="../../api/api/#VMRobotControl.zero_u"><code>VMRobotControl.zero_u</code></a></li></ul><h1 id="Testing"><a class="docs-heading-anchor" href="#Testing">Testing</a><a id="Testing-1"></a><a class="docs-heading-anchor-permalink" href="#Testing" title="Permalink"></a></h1><p>To test, navigate to the folder &quot;VMRobotControl.jl&quot;, hit &quot;]&quot; to enter the Pkg context, and run</p><pre><code class="nohighlight hljs">test</code></pre><h1 id="Kinematics-computations"><a class="docs-heading-anchor" href="#Kinematics-computations">Kinematics computations</a><a id="Kinematics-computations-1"></a><a class="docs-heading-anchor-permalink" href="#Kinematics-computations" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.RBTree" href="#VMRobotControl.RBTree"><code>VMRobotControl.RBTree</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RBTree(m:Mechanism)</code></pre><p>Fundamental data structure behind efficient kinematics computations. Used to  store caches for computations, and information about compiled frames/joints/coordinates</p><p>Strategy:</p><ul><li><p>There are a few things to do when going from a <code>Mechanism</code> to an <code>CompiledMechanism</code>.  The first is to change all frames from being referenced by strings to being referenced  by indexes (of type Int). This is done using the <code>reassign_frames</code> function for  coordinates/components and in the constructor for joints.</p></li><li><p>The second is to change references to joints from strings of the joints name to a suitable alternative, like a compiled joint ID, as the size of the joint-configuration vector  q must be able to be determined by the type of the ID in order to know it&#39;s size at compile time. This is done using the <code>reassign_joints</code></p></li><li><p>The next is to create a type stable way to compute the extended kinematics (transforms,  twists and velocity product accelerations of each frame), and the jacobians of each frame.  This is accomplished by building a type-agnostic cache for each, and creating a <code>Walk</code> of  the rigid body tree.  The walk is simply a concrete order in which to compute and apply  joint transformation. For example, the tree with frames (1, 2, 3, 4), and structure:   1 -&gt; 2 -&gt; 3    -&gt; 4     Could have a walk [(1, 2), (2, 3), (1, 4)], or equivalently [(1, 2), (1, 4), (2, 3)], or  [(1, 4), (1, 2), (2, 3)]. The important fact is that a transform earlier in the tree is  always computed before a transform later in the tree.</p></li><li><p>Each different joint type requires different methods, we create a <code>joint_collection</code>  which has a field for each different joint type. This allows us to use  <code>map</code> or <code>foreach</code> to efficiently dispatch to joints to compute relative  transforms/twists/vpas, and then we use the walk to accumulate the effect of each. This works because despite each joint being a different type, the output of <code>map</code> or <code>foreach</code> is a the same.</p></li><li><p>For coordinates, a different approach is needed to store the dependency order. First we determine a suitable <code>TypeStableCollection</code> type for the collection of all coordinates,  then we create a directed graph of dependencies between coordinates. We then topologically sort the graph to determine the order in which to compute the coordinates. This is done by first computing the depth of each coordinate, and then creating a vector of vectors  where each inner vector is a set of coordinates that can be computed simultaneously, as they do not depend on each other.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/compiled_mechanisms.jl#L280-L322">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.joint_relative_transform" href="#VMRobotControl.joint_relative_transform"><code>VMRobotControl.joint_relative_transform</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">joint_relative_transform(joint, t, q)</code></pre><p>Returns the transform from the child frame to the parent frame of a joint configuration  and time.</p><p>The transform is represented as a <a href="#VMRobotControl.Transforms.Transform"><code>Transform</code></a> object</p><p><code>q</code> is the joint configuration <em>for the individual joint</em> (i.e. not for the whole mechanism) as an SVector of the appropriate size.</p><p>This function is used to ensure correct type signature for all joints and arguments, while  implementation for each <a href="#VMRobotControl.AbstractJointData"><code>AbstractJointData</code></a> is done in a method of  <code>joint_relative_transform</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/joints/joint_definitions.jl#L240-L254">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.joint_relative_twist" href="#VMRobotControl.joint_relative_twist"><code>VMRobotControl.joint_relative_twist</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">joint_relative_twist(joint, t, q, q̇)</code></pre><p>Returns the twist of the child frame of a joint represented in the parent frame.</p><p>The twist is represented as a <a href="#VMRobotControl.Transforms.Twist"><code>Twist</code></a> object. </p><p><code>q</code> is the joint configuration <em>for the individual joint</em> (i.e. not for the whole mechanism) as an SVector of the appropriate size.</p><p><code>q̇</code> is the joint velocity <em>for the individual joint</em> (i.e. not for the whole mechanism) as an SVector of the appropriate size.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/joints/joint_definitions.jl#L313-L326">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.child_frame_twist" href="#VMRobotControl.child_frame_twist"><code>VMRobotControl.child_frame_twist</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">child_frame_twist(tf_parent, tf_child, twist_parent, joint_relative_twist)</code></pre><p>Compute the twist of the child frame, from the twist of the parent frame, the transforms (from each frame to the world frame) and the joint relative twist:  i.e. the twist of the child frame represented in the parent frame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/joints/joint_definitions.jl#L284-L290">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.joint_relative_vpa" href="#VMRobotControl.joint_relative_vpa"><code>VMRobotControl.joint_relative_vpa</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">joint_relative_vpa(joint, t, q, q̇)</code></pre><p>Returns the velocity-product-acceleration of the child frame of a joint represented in the parent frame.</p><p>The function <code>joint_vpa</code> applies the correction due to velocity of the parent frame.</p><p>The acceleration is represented as a <a href="#VMRobotControl.Transforms.SpatialAcceleration"><code>SpatialAcceleration</code></a> object</p><p>Most joint types have no velocity-product-acceleration, and return zero. </p><p><strong>What is velocity-product-acceleration?</strong></p><p>Velocity product acceleration is the acceleration of the child frame relative to the parent frame due to the velocity of the joint variable, q̇, assuming  q̈=0, and that the parent frame is stationary. As an example, consider the linear velocity as ȯ = J(q)q̇, then the derivative with time is  ö = J(q)q̈ + J̇(q)q̇. Here J(q) is the jacobian of the joint. Thus J̇(q) ̇q is the  velocity product acceleration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/joints/joint_definitions.jl#L419-L439">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.joint_relative_acceleration" href="#VMRobotControl.joint_relative_acceleration"><code>VMRobotControl.joint_relative_acceleration</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">joint_relative_acceleration(joint, q, q̈, t)</code></pre><p>Returns the acceleration of the child frame relative to the parent frame due to the acceleration of the joint variable, q̈.</p><p>Does NOT include velocity-product-accelerations terms like centrifugal/coriolis acceleration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/joints/joint_definitions.jl#L460-L469">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.autodiff_jacobian_column" href="#VMRobotControl.autodiff_jacobian_column"><code>VMRobotControl.autodiff_jacobian_column</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">autodiff_jacobian_column(joint1dof, tf_parent, tf_child, tf_final, qi)</code></pre><p>Used to efficiently compute jacobians using automatic differentiation.</p><p>Uses precomputed transforms to compute the derivative of a final transform  <code>tf_final</code> w.r.t. a single joint config, qi, by using knowledge that the other  transforms are not a function of qi</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/joints/joint_definitions.jl#L572-L580">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.child_rbstate" href="#VMRobotControl.child_rbstate"><code>VMRobotControl.child_rbstate</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">child_rbstate(state_parent, state_relative)</code></pre><p>Computes the rigid body state of a child from from the parent state, and the  relative state. <code>state_parent</code> is the state of the parent rigid body (transform, twist, vpa). <code>state_relative</code> contains the relative transform/twist/vpa between the child  frame and parent frame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/joints/joint_definitions.jl#L497-L505">source</a></section></article><h1 id="TypeStableCollection"><a class="docs-heading-anchor" href="#TypeStableCollection">TypeStableCollection</a><a id="TypeStableCollection-1"></a><a class="docs-heading-anchor-permalink" href="#TypeStableCollection" title="Permalink"></a></h1><p>Let me illustrate the challenge: you have a robot with a mix of types of joint:  revolute, prismatic and potentially other types too. You want to write a function that can take any such robot and compute its kinematics. If you simply make a list of joints, then it will not be concretely typed (e.g. `Vector{Any}. It is  possible that small union optimisations would work for this example, but that doesn&#39;t scale to the  number of different coordinate types or component types.)</p><p>Instead, we could use a tuple of the joints, but this would mean a different type for the robot for  every arrangement of joints. Instead we use a tuple of vectors: one vector for each different type. This means that any robot made of only revolute and prismatic joints will be of the same type! We store the order of computation separately, by storing indices into the tuple of vectors.</p><p>The tuple-of-vectors structure is called a <code>TypeStableCollection</code> and has drawn inspiration  from <a href="https://github.com/tkoolen/TypeSortedCollections.jl"><code>TypeSortedCollection</code></a>, but has some difference in construction and indexing.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.TypeStableCollections.TypeStableCollection" href="#VMRobotControl.TypeStableCollections.TypeStableCollection"><code>VMRobotControl.TypeStableCollections.TypeStableCollection</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TypeStableCollection{TUPTYPE}</code></pre><p>A collection of vectors, where each vector has a different element type. The element types are stored in a tuple of type <code>TUPTYPE</code>.</p><p>Allows for type stable operations on the collection, such as <code>map</code>, <code>mapreduce</code>, <code>foreach</code>.</p><p>Can be built using the <a href="#VMRobotControl.TypeStableCollections.extend-Union{Tuple{T}, Tuple{TUPTYPE}, Tuple{VMRobotControl.TypeStableCollections.TypeStableCollection{TUPTYPE}, T}} where {TUPTYPE, T}"><code>extend</code></a> function to add new/existing types and return an index; [<code>push!</code>] to add types already present; or <a href="#VMRobotControl.TypeStableCollections.push_return_index!-Union{Tuple{T}, Tuple{TUPTYPE}, Tuple{VMRobotControl.TypeStableCollections.TypeStableCollection{TUPTYPE}, T}} where {TUPTYPE, T}"><code>push_return_index!</code></a> to add types already present <em>and</em> return the index of the newly added element.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/type_stable_collection.jl#L12-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.TypeStableCollections.TypeStableCollection-Tuple{}" href="#VMRobotControl.TypeStableCollections.TypeStableCollection-Tuple{}"><code>VMRobotControl.TypeStableCollections.TypeStableCollection</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TypeStableCollection()</code></pre><p>Create an empty TypeStableCollection, useful to then use <a href="#VMRobotControl.TypeStableCollections.extend-Union{Tuple{T}, Tuple{TUPTYPE}, Tuple{VMRobotControl.TypeStableCollections.TypeStableCollection{TUPTYPE}, T}} where {TUPTYPE, T}"><code>extend</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/type_stable_collection.jl#L38-L42">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.TypeStableCollections.TypeStableIdx" href="#VMRobotControl.TypeStableCollections.TypeStableIdx"><code>VMRobotControl.TypeStableCollections.TypeStableIdx</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TypeStableIdx{T}</code></pre><p>An index into a <a href="#TypeStableCollection"><code>TypeStableCollection</code></a>.</p><p>The index is parameterized by the type of the element it points to, <code>T</code>. Therefore it  can still be used to access an extended collection, even if the type of the collection  has changed, or if elements have been appended to the collection.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/type_stable_collection.jl#L47-L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.TypeStableCollections.extend-Union{Tuple{T}, Tuple{TUPTYPE}, Tuple{VMRobotControl.TypeStableCollections.TypeStableCollection{TUPTYPE}, T}} where {TUPTYPE, T}" href="#VMRobotControl.TypeStableCollections.extend-Union{Tuple{T}, Tuple{TUPTYPE}, Tuple{VMRobotControl.TypeStableCollections.TypeStableCollection{TUPTYPE}, T}} where {TUPTYPE, T}"><code>VMRobotControl.TypeStableCollections.extend</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">extend(c::TypeStableCollection, val)</code></pre><p>Extend the type stable collection by adding <code>val</code>. If the type of <code>val</code> is already in the collection, val is appended to the corresponding vector. If the type is not already in the collection, a new vector is created, thus changing the type of the collection.</p><p>As a result, the type of the collection may change after calling <code>extend</code>. Therefore, to keep the calling code type stable, it is recommended to always  name the return value of extend with a new variable, and use that variable in  subsequent code.</p><p>Returns: the new collection and a <a href="#VMRobotControl.TypeStableCollections.TypeStableIdx"><code>TypeStableIdx</code></a> to the newly added value. </p><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">julia&gt; c1 = TypeStableCollection(())
TypeStableCollection{Tuple{}}(())
julia&gt; c2, idx = extend(c1, 2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/type_stable_collection.jl#L106-L126">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.TypeStableCollections.push_return_index!-Union{Tuple{T}, Tuple{TUPTYPE}, Tuple{VMRobotControl.TypeStableCollections.TypeStableCollection{TUPTYPE}, T}} where {TUPTYPE, T}" href="#VMRobotControl.TypeStableCollections.push_return_index!-Union{Tuple{T}, Tuple{TUPTYPE}, Tuple{VMRobotControl.TypeStableCollections.TypeStableCollection{TUPTYPE}, T}} where {TUPTYPE, T}"><code>VMRobotControl.TypeStableCollections.push_return_index!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">push_return_index!(c::TypeStableCollection, val)</code></pre><p>Push <code>val</code> to the collection <code>c</code>. Requires that type of <code>val</code> is already in the collection.</p><p>Returns: the modified collection and a <a href="#VMRobotControl.TypeStableCollections.TypeStableIdx"><code>TypeStableIdx</code></a> to the newly added value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/type_stable_collection.jl#L210-L216">source</a></section></article><h1 id="Transforms"><a class="docs-heading-anchor" href="#Transforms">Transforms</a><a id="Transforms-1"></a><a class="docs-heading-anchor-permalink" href="#Transforms" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Transforms.EulerVector" href="#VMRobotControl.Transforms.EulerVector"><code>VMRobotControl.Transforms.EulerVector</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EulerVector(v::SVector{3})</code></pre><p>Represents a rotation on the plane with normal vector v, by angle norm(v).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/transforms/rotors.jl#L332-L336">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Transforms.SpatialAcceleration" href="#VMRobotControl.Transforms.SpatialAcceleration"><code>VMRobotControl.Transforms.SpatialAcceleration</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SpatialAcceleration{T}</code></pre><p>A spatial acceleration represents the acceleration of a rigid body/frame in 3D space.</p><p>It is composed of a linear acceleration and an angular acceleration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/transforms/spatial_acceleration.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Transforms.Transform" href="#VMRobotControl.Transforms.Transform"><code>VMRobotControl.Transforms.Transform</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Transform{T}(origin::SVector{3, T}, rotor::Rotor{T})</code></pre><p>A rigid body transform defined by an origin and a rotor (quaternion). </p><p>Can be constructed from either an origin and a rotor, or just an origin, or just a rotor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/transforms/transforms_impl.jl#L4-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Transforms.Twist" href="#VMRobotControl.Transforms.Twist"><code>VMRobotControl.Transforms.Twist</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Twist{T}(linear::SVector{3, T}, angular::SVector{3, T})</code></pre><p>A twist represents the velocity of a rigid body/frame in 3D space.  It is composed of a linear velocity and an angular velocity.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/transforms/twists.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Transforms.AxisAngleDerivative-Union{Tuple{T}, Tuple{Any, T}} where T" href="#VMRobotControl.Transforms.AxisAngleDerivative-Union{Tuple{T}, Tuple{Any, T}} where T"><code>VMRobotControl.Transforms.AxisAngleDerivative</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Partial derivative of rotor w.r.t. angle</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/transforms/rotors.jl#L304">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Transforms.angular_velocity_prematrix-Tuple{Rotor}" href="#VMRobotControl.Transforms.angular_velocity_prematrix-Tuple{Rotor}"><code>VMRobotControl.Transforms.angular_velocity_prematrix</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">angular_velocity_prematrix(r::Rotor)</code></pre><p>Return S, which satisfies S*ṙ = ω, where omega is the angular velocity of the  frame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/transforms/rotors.jl#L240-L245">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Transforms.angular_velocity_prematrix_derivative-Tuple{SVector{4}}" href="#VMRobotControl.Transforms.angular_velocity_prematrix_derivative-Tuple{SVector{4}}"><code>VMRobotControl.Transforms.angular_velocity_prematrix_derivative</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">angular_velocity_prematrix_derivative(ṙ::SVector)</code></pre><p>Return Ṡ, time derivative of <code>angular_velocity_prematrix(r)</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/transforms/rotors.jl#L254-L258">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Transforms.quaternion_derivative_propagation-Tuple{Rotor}" href="#VMRobotControl.Transforms.quaternion_derivative_propagation-Tuple{Rotor}"><code>VMRobotControl.Transforms.quaternion_derivative_propagation</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">quaternion_derivative_propagation(r::Rotor)</code></pre><p>Returns the matrix E which satisfies E*ω = ṙ, where ω is the angular velocity of rotor r</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/transforms/rotors.jl#L274-L278">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Transforms.quaternion_derivative_propagation_derivative-Tuple{Rotor, SVector{3}}" href="#VMRobotControl.Transforms.quaternion_derivative_propagation_derivative-Tuple{Rotor, SVector{3}}"><code>VMRobotControl.Transforms.quaternion_derivative_propagation_derivative</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">quaternion_derivative_propagation_derivative(r::Rotor, ω)</code></pre><p>Returns the matrix Ė, time derivative of <a href="#VMRobotControl.Transforms.quaternion_derivative_propagation-Tuple{Rotor}"><code>quaternion_derivative_propagation(r)</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/transforms/rotors.jl#L289-L293">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Transforms.quatmul_geodual_bivector_matrix-Tuple{Rotor}" href="#VMRobotControl.Transforms.quatmul_geodual_bivector_matrix-Tuple{Rotor}"><code>VMRobotControl.Transforms.quatmul_geodual_bivector_matrix</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">quatmul_geodual_bivector_matrix(r::Rotor)</code></pre><p>Returns a matrix <code>S</code> that corrects from a rotor jacobian ̇r = J⁽ʳ⁾q to an angular velocity jacobian ω = J⁽ʷ⁾̇q, by J⁽ʷ⁾ = S J⁽ʳ⁾.</p><p>Equivalent to performing quaternion multiplication with, flipping the direction  of the vector and extracting the vector part of the result....</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/transforms/transform_utils.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Transforms.skew-Union{Tuple{SVector{3, T}}, Tuple{T}} where T" href="#VMRobotControl.Transforms.skew-Union{Tuple{SVector{3, T}}, Tuple{T}} where T"><code>VMRobotControl.Transforms.skew</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">skew(v::SVector{3})</code></pre><p>Return the skew symettric matrix operator performing vector product.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/transforms/transform_utils.jl#L43-L47">source</a></section></article><h1 id="Other-API-documentation"><a class="docs-heading-anchor" href="#Other-API-documentation">Other API documentation</a><a id="Other-API-documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Other-API-documentation" title="Permalink"></a></h1><p>Here are the remaining docs not included in the main API</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.CompiledMechanism" href="#VMRobotControl.CompiledMechanism"><code>VMRobotControl.CompiledMechanism</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CompiledMechanism(m::Mechanism)</code></pre><p>A compiled version of a <code>Mechanism</code> which is used for efficient kinematics/dynamics computations.</p><p>See also: <a href="../../api/api/#VMRobotControl.compile"><code>compile</code></a>, <a href="../../api/api/#VMRobotControl.Mechanism"><code>Mechanism</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/compiled_mechanisms.jl#L470-L476">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.CompiledVirtualMechanismSystem" href="#VMRobotControl.CompiledVirtualMechanismSystem"><code>VMRobotControl.CompiledVirtualMechanismSystem</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CompiledVirtualMechanismSystem{T, M1, M2, TSC1, TSC2}</code></pre><p>A compiled virtual mechanism system is a <a href="../../api/api/#VMRobotControl.VirtualMechanismSystem"><code>VirtualMechanismSystem</code></a> that has been compiled into a form that is efficient for computations/simulation. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/compiled_virtual_mechanisms.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.CompiledCoordID" href="#VMRobotControl.CompiledCoordID"><code>VMRobotControl.CompiledCoordID</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CompiledCoordID{C}</code></pre><p>A unique identifier for a coordinte in a compiled mechanism/virtual mechanism system.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/coordinates/coordinates.jl#L24-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.reassign_coords" href="#VMRobotControl.reassign_coords"><code>VMRobotControl.reassign_coords</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reassign_coords(c, coord_replacement_dict)</code></pre><p>For joint/coordinate/component <code>c</code>  all references to any coordinate id using the replacement dictionary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/components/components.jl#L194-L199">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.GenericComponent" href="#VMRobotControl.GenericComponent"><code>VMRobotControl.GenericComponent</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">GenericComponent{T} &lt;: ComponentData{T}</code></pre><p>Supertype for any components which do not fall cleanly into an inertance, storage or dissipation.</p><p>Implement <code>inertance_matrix!</code>, <code>generalized_force!</code>, and <code>stored_energy</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/components/generic_components.jl#L9-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Splines.curve_derivative" href="#VMRobotControl.Splines.curve_derivative"><code>VMRobotControl.Splines.curve_derivative</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">curve_derivative(t, ::CubicBezierCurve)</code></pre><p>First derivative of a cubic bezier curve at t. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/splines.jl#L44-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Splines.curve_second_derivative" href="#VMRobotControl.Splines.curve_second_derivative"><code>VMRobotControl.Splines.curve_second_derivative</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">curve_second_derivative(t, ::CubicBezierCurve)</code></pre><p>Second derivative of a cubic bezier curve at t.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/splines.jl#L54-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.ComponentData" href="#VMRobotControl.ComponentData"><code>VMRobotControl.ComponentData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ComponentData{T}</code></pre><p>Supertype for all mechanical components with eltype <code>T</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/components/components.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.frame_ancestor_matrix" href="#VMRobotControl.frame_ancestor_matrix"><code>VMRobotControl.frame_ancestor_matrix</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">frame_ancestor_matrix(m::Mechanism)</code></pre><p>Returns matrix B such that <code>B[frame_1, frame_2]</code> ⟹ frame_1 is an ancestor of frame 2 in the tree</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/mechanism.jl#L370-L375">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.reassign_joints" href="#VMRobotControl.reassign_joints"><code>VMRobotControl.reassign_joints</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reassign_joints(c, joint_replacement_dict)</code></pre><p>For joint/coordinate/component <code>c</code> replace all references to any joint <code>jointid</code> with  <code>joint_replacement_dict[jointid]</code>. Will be recursively applied to fields of the component, such as coordinates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/components/components.jl#L174-L180">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.TimeFuncJoint" href="#VMRobotControl.TimeFuncJoint"><code>VMRobotControl.TimeFuncJoint</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TimeFuncJoint(f_tf::Function, f_twist::Function, f_vpa::Function)</code></pre><p>A TimeFuncJoint represents a joint which has a transform which is a function of time: <code>f_tf(t)</code>. The derivatives <code>f_twist</code> and <code>f_vpa</code> must be provided, and checked, by the user.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/joints/joint_definitions.jl#L66-L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl._construct_coordinate_graph" href="#VMRobotControl._construct_coordinate_graph"><code>VMRobotControl._construct_coordinate_graph</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_construct_coordinate_graph(coordinates)</code></pre><p>Construct a graph of coordinates dependencies on each other.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/compiled_mechanisms.jl#L153-L157">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.URDF.parseURDFString" href="#VMRobotControl.URDF.parseURDFString"><code>VMRobotControl.URDF.parseURDFString</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parseURDFString(urdfstring::AbstractString, [cfg::URDFParserConfig])</code></pre><p>Parse a <code>Mechanism</code> from a URDF string. If cfg is provided, the directory of the URDF file path  from the config will be used to find mesh files.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/urdf/parse_urdf.jl#L67-L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.RSON.parseRSONString" href="#VMRobotControl.RSON.parseRSONString"><code>VMRobotControl.RSON.parseRSONString</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parseRSONString(rsonstr::AbstractString, [rsonpath::AbstractString], [cfg::RSONParserConfig])</code></pre><p>Parse a <code>Mechanism</code> or <code>VirtualMechanismSystem</code> from an RSON string. If <code>rsonpath</code> is not provided, it defaults to &quot;.&quot;, which is used for relative paths to locate associated files such as meshes for  visuals.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/rson/parsing.jl#L183-L189">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.RSON.parseRSONVersion" href="#VMRobotControl.RSON.parseRSONVersion"><code>VMRobotControl.RSON.parseRSONVersion</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parseRSONVersion(data, cfg)</code></pre><p>Will parse the version, and assert that it is compatible with the current parser version. The parsed version will be stored in <code>cfg.rson_version</code>.</p><p>The version is expected to be a string of the form &quot;v&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;&quot;, where each part is an integer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/rson/parsing.jl#L711-L719">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.AbstractJointData" href="#VMRobotControl.AbstractJointData"><code>VMRobotControl.AbstractJointData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>AbstractJointData{T}</p><p>An instance of AbstractJointData represents the data needed to compute the  transform between two unspecified frames of reference. When added to a mechanism the frames are specified.</p><p>T is the scalar type of the joint (typically Float64), and can be extracted with valuetype(::AbstractJoint).</p><p>A joint can be added to a mechanism using the <a href="../../api/api/#VMRobotControl.add_joint!"><code>add_joint!</code></a> function, which  requires the joint, the parent frame, and the child frame, creating a  <a href="#VMRobotControl.MechanismJoint"><code>MechanismJoint</code></a>`.</p><p><strong>See also</strong></p><p>Joint data types: <a href="../../api/api/#VMRobotControl.Rigid"><code>Rigid</code></a>, <a href="../../api/api/#VMRobotControl.Revolute"><code>Revolute</code></a>, <a href="../../api/api/#VMRobotControl.Prismatic"><code>Prismatic</code></a>, <a href="../../api/api/#VMRobotControl.Rail"><code>Rail</code></a></p><p><strong>Developer Notes</strong></p><p>Each joint type must implement the following methods:</p><ul><li><code>_joint_relative_transform</code> (See <a href="#VMRobotControl.joint_relative_transform"><code>joint_relative_transform</code></a>)</li><li><code>_joint_relative_twist</code> (See <a href="#VMRobotControl.joint_relative_twist"><code>joint_relative_twist</code></a>)</li><li><code>_joint_relative_vpa</code> (See <a href="#VMRobotControl.joint_relative_vpa"><code>joint_relative_vpa</code></a>)</li><li><code>_joint_relative_acceleration</code> (See <a href="#VMRobotControl.joint_relative_acceleration"><code>joint_relative_acceleration</code></a>)</li><li><code>_jacobian_columns</code> (See <a href="#VMRobotControl.jacobian_column"><code>jacobian_column</code></a>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/joints/joint_definitions.jl#L1-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Spherical" href="#VMRobotControl.Spherical"><code>VMRobotControl.Spherical</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Spherical()
Spherical(tf::Transform)</code></pre><p>BROKEN. DOES NOT WORK YET.</p><p>Represents a spherical joint between two frames. </p><p>See also <a href="../../api/api/#VMRobotControl.Revolute"><code>Revolute</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/joints/joint_definitions.jl#L173-L182">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Inertance" href="#VMRobotControl.Inertance"><code>VMRobotControl.Inertance</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Inertance{T} &lt;: ComponentData{T}</code></pre><p>Supertype for all inertance components, which store kinetic energy and induce inertances and generalized forces in the mechanism.</p><p>These components support <code>stored_energy</code>, <code>inertance_matrix!</code>, and <code>generalized_force!</code>, typically by implementing <code>_stored_energy</code>, <code>inertance_matrix!</code>, and <code>_opspace_force</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/components/inertances.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.rigid_joint_twist" href="#VMRobotControl.rigid_joint_twist"><code>VMRobotControl.rigid_joint_twist</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rigid_joint_twist(tf_parent, tf_child, twist_parent)</code></pre><p>Compute the twist of the child frame from the transforms and the twist of the  parent frame. Assumes that the frames are rigidly connected.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/joints/joint_definitions.jl#L295-L300">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl._add_jacobian_transpose_times_force!" href="#VMRobotControl._add_jacobian_transpose_times_force!"><code>VMRobotControl._add_jacobian_transpose_times_force!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_jacobian_transpose_times_force!(τ, J, F)</code></pre><p>Calculate the product of the transpose of the Jacobian <code>J</code> and the force <code>F</code>, and <em>add it</em> to <code>τ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/components/components.jl#L294-L298">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.jacobian_column" href="#VMRobotControl.jacobian_column"><code>VMRobotControl.jacobian_column</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">jacobian_column(joint, tf_parent, tf_final, q_i)</code></pre><p>Returns the jacobian columns <code>Jo</code> and <code>Jw</code> for <code>joint</code> such that if all other  joints where stationary, the linear velocity of a frame with transform tf_final  would be <code>Jo*q̇</code> and the angular velocity would be <code>Jw*q̇</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/joints/joint_definitions.jl#L520-L526">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.state_idxs" href="#VMRobotControl.state_idxs"><code>VMRobotControl.state_idxs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">state_idxs(Σ::CompiledVirtualMechanismSystem)</code></pre><p>Returns the indices for getting the state from the ODE vector.</p><p><strong>Returns</strong></p><p>qʳ<em>idxs::UnitRange{Int} - The indices for the robot configuration qᵛ</em>idxs::UnitRange{Int} - The indices for the virtual mechanism configuration q̇ʳ<em>idxs::UnitRange{Int} - The indices for the robot velocity q̇ᵛ</em>idxs::UnitRange{Int} - The indices for the virtual mechanism velocity</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/compiled_virtual_mechanisms.jl#L284-L294">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.remake" href="#VMRobotControl.remake"><code>VMRobotControl.remake</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remake(thing; &lt;keyword arguments&gt;)</code></pre><p>Re-construct <code>thing</code> with new field values specified by the keyword arguments. Must have a keyword-constructor.</p><p>Adapted from SciMLBase</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/components/components.jl#L227-L234">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.reassign_frames" href="#VMRobotControl.reassign_frames"><code>VMRobotControl.reassign_frames</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reassign_frames(c, frame_replacement_dict)</code></pre><p>For joint/coordinate/component <code>c</code> replace all references to any <code>frame</code> with  <code>frame_replacement_dict[frame]</code>. Will be recursively applied to fields of the component, such as coordinates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/components/components.jl#L158-L164">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.MechanismJoint" href="#VMRobotControl.MechanismJoint"><code>VMRobotControl.MechanismJoint</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MechanismJoint(joint, parentFrameID::Int, childFrameID::Int)</code></pre><p>Contains jointdata, and the IDs of parent/child frames that the joint connects.</p><p>Before a mechanism is compiled, these frame IDs are strings–-the name of the  frame–-, after compilation it is an integer, unique for each frame.</p><p>See also <a href="#VMRobotControl.AbstractJointData"><code>AbstractJointData</code></a>, <a href="../../api/api/#VMRobotControl.add_joint!"><code>add_joint!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/joints/mechanism_joint.jl#L28-L37">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Splines.curve_position" href="#VMRobotControl.Splines.curve_position"><code>VMRobotControl.Splines.curve_position</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">curve_position(t, ::CubicBezierCurve)</code></pre><p>r(t) is a cubic bezier curve passing through p₁ and p₄ at t=0.0 and 1.0 respectively, with control points  p₂ and p₃. It is twice differentiable.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; c = CubicBezierCurve(2.1, 2.3, 2.7, 2.9)
julia&gt; curve_position(0.0, c)
1-element SVector{1, Float64} with indices SOneTo(1):
 2.1</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/splines.jl#L25-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.EltypeCache" href="#VMRobotControl.EltypeCache"><code>VMRobotControl.EltypeCache</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EltypeCache{VALUETYPE, F&lt;:Function}</code></pre><p>A cache for storing results of a function with different eltypes. For example, if a Vector{Float64}, and Vector{Float32} cache are both needed, then VALUETYPE can be <code>Vector{T} where T</code> and function can be (VALUETYPE, ELTYPE) -&gt; Vector{ELTYPE}().</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/compiled_mechanisms.jl#L92-L98">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Dissipation" href="#VMRobotControl.Dissipation"><code>VMRobotControl.Dissipation</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Dissipation{T} &lt;: ComponentData{T}</code></pre><p>Supertype for all dissipative components, which cannot store energy and only dissipate it. </p><p>These components support <code>generalized_force!</code>, typically by implementing <code>_opspace_force</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c18f063b3f9acb22a4a3e1a2e7024c9920975035/src/components/dissipations.jl#L1-L9">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../api/api/">« API</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Tuesday 21 January 2025 15:10">Tuesday 21 January 2025</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
