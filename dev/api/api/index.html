<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · VMRobotControl.jl</title><meta name="title" content="API · VMRobotControl.jl"/><meta property="og:title" content="API · VMRobotControl.jl"/><meta property="twitter:title" content="API · VMRobotControl.jl"/><meta name="description" content="Documentation for VMRobotControl.jl."/><meta property="og:description" content="Documentation for VMRobotControl.jl."/><meta property="twitter:description" content="Documentation for VMRobotControl.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">VMRobotControl.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/introduction/">Introduction</a></li><li><a class="tocitem" href="../../tutorials/building/">Building a mechanism</a></li><li><a class="tocitem" href="../../tutorials/using/">Using a mechanism</a></li><li><a class="tocitem" href="../../tutorials/vms/">Virtual Model Control of a Simulated Robot</a></li><li><a class="tocitem" href="../../tutorials/plotting/">Plotting with Makie.jl</a></li><li><a class="tocitem" href="../../tutorials/simulating/">Simulating with DifferentialEquations.jl</a></li><li><a class="tocitem" href="../../tutorials/control/">Virtual Model Control of a Real Robot using ROS</a></li><li><a class="tocitem" href="../../tutorials/optimization/">Optimization</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/franka_impedance_control/">Franka Impedance Control</a></li><li><a class="tocitem" href="../../examples/sciurus_reaching/">Sciurus reaching with obstacle avoidance</a></li><li><a class="tocitem" href="../../examples/compliant_path_following/">Franka compliant path following</a></li><li><a class="tocitem" href="../../examples/rail_robot/">Pendulum on a Bezier-Spline Rail</a></li></ul></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Loading-from-RSON/URDF"><span>Loading from RSON/URDF</span></a></li><li><a class="tocitem" href="#Building"><span>Building</span></a></li><li><a class="tocitem" href="#Using"><span>Using</span></a></li><li><a class="tocitem" href="#Plotting"><span>Plotting</span></a></li><li><a class="tocitem" href="#Joints"><span>Joints</span></a></li><li><a class="tocitem" href="#Coordinates"><span>Coordinates</span></a></li><li><a class="tocitem" href="#Components"><span>Components</span></a></li></ul></li><li><a class="tocitem" href="../../developer/developer/">Developer Notes</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/main/docs/src/api/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><ul><li><a href="../../developer/developer/#VMRobotControl.AbstractJointData"><code>VMRobotControl.AbstractJointData</code></a></li><li><a href="../../developer/developer/#VMRobotControl.CompiledCoordID"><code>VMRobotControl.CompiledCoordID</code></a></li><li><a href="../../developer/developer/#VMRobotControl.CompiledMechanism"><code>VMRobotControl.CompiledMechanism</code></a></li><li><a href="../../developer/developer/#VMRobotControl.CompiledVirtualMechanismSystem"><code>VMRobotControl.CompiledVirtualMechanismSystem</code></a></li><li><a href="../../developer/developer/#VMRobotControl.ComponentData"><code>VMRobotControl.ComponentData</code></a></li><li><a href="#VMRobotControl.ConstCoord"><code>VMRobotControl.ConstCoord</code></a></li><li><a href="#VMRobotControl.CoordDifference"><code>VMRobotControl.CoordDifference</code></a></li><li><a href="#VMRobotControl.CoordSlice"><code>VMRobotControl.CoordSlice</code></a></li><li><a href="#VMRobotControl.CoordStack"><code>VMRobotControl.CoordStack</code></a></li><li><a href="#VMRobotControl.CoordSum"><code>VMRobotControl.CoordSum</code></a></li><li><a href="#VMRobotControl.CoordinateData"><code>VMRobotControl.CoordinateData</code></a></li><li><a href="#VMRobotControl.DiodicDamper"><code>VMRobotControl.DiodicDamper</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Dissipation"><code>VMRobotControl.Dissipation</code></a></li><li><a href="../../developer/developer/#VMRobotControl.EltypeCache"><code>VMRobotControl.EltypeCache</code></a></li><li><a href="#VMRobotControl.ForceSource"><code>VMRobotControl.ForceSource</code></a></li><li><a href="#VMRobotControl.FrameAngularVelocity"><code>VMRobotControl.FrameAngularVelocity</code></a></li><li><a href="#VMRobotControl.FrameOrigin"><code>VMRobotControl.FrameOrigin</code></a></li><li><a href="#VMRobotControl.FramePoint"><code>VMRobotControl.FramePoint</code></a></li><li><a href="#VMRobotControl.GaussianSpring"><code>VMRobotControl.GaussianSpring</code></a></li><li><a href="../../developer/developer/#VMRobotControl.GenericComponent"><code>VMRobotControl.GenericComponent</code></a></li><li><a href="#VMRobotControl.GravityCompensator"><code>VMRobotControl.GravityCompensator</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Inertance"><code>VMRobotControl.Inertance</code></a></li><li><a href="#VMRobotControl.Inertia"><code>VMRobotControl.Inertia</code></a></li><li><a href="#VMRobotControl.JointSubspace"><code>VMRobotControl.JointSubspace</code></a></li><li><a href="#VMRobotControl.LinearDamper"><code>VMRobotControl.LinearDamper</code></a></li><li><a href="#VMRobotControl.LinearInerter"><code>VMRobotControl.LinearInerter</code></a></li><li><a href="#VMRobotControl.LinearSpring"><code>VMRobotControl.LinearSpring</code></a></li><li><a href="#VMRobotControl.Mechanism"><code>VMRobotControl.Mechanism</code></a></li><li><a href="../../developer/developer/#VMRobotControl.MechanismJoint"><code>VMRobotControl.MechanismJoint</code></a></li><li><a href="#VMRobotControl.PointMass"><code>VMRobotControl.PointMass</code></a></li><li><a href="#VMRobotControl.PowerSource"><code>VMRobotControl.PowerSource</code></a></li><li><a href="#VMRobotControl.QuaternionAttitude"><code>VMRobotControl.QuaternionAttitude</code></a></li><li><a href="../../developer/developer/#VMRobotControl.RBTree"><code>VMRobotControl.RBTree</code></a></li><li><a href="#VMRobotControl.RSON.RSONParserConfig"><code>VMRobotControl.RSON.RSONParserConfig</code></a></li><li><a href="#VMRobotControl.RectifiedDamper"><code>VMRobotControl.RectifiedDamper</code></a></li><li><a href="#VMRobotControl.ReferenceCoord"><code>VMRobotControl.ReferenceCoord</code></a></li><li><a href="#VMRobotControl.ReferenceJoint"><code>VMRobotControl.ReferenceJoint</code></a></li><li><a href="#VMRobotControl.Rigid"><code>VMRobotControl.Rigid</code></a></li><li><a href="#VMRobotControl.RotatedCoord"><code>VMRobotControl.RotatedCoord</code></a></li><li><a href="#VMRobotControl.Storage"><code>VMRobotControl.Storage</code></a></li><li><a href="#VMRobotControl.TanhDamper"><code>VMRobotControl.TanhDamper</code></a></li><li><a href="#VMRobotControl.TanhSpring"><code>VMRobotControl.TanhSpring</code></a></li><li><a href="../../developer/developer/#VMRobotControl.TimeFuncJoint"><code>VMRobotControl.TimeFuncJoint</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Transforms.EulerVector"><code>VMRobotControl.Transforms.EulerVector</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Transforms.SpatialAcceleration"><code>VMRobotControl.Transforms.SpatialAcceleration</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Transforms.Transform"><code>VMRobotControl.Transforms.Transform</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Transforms.Twist"><code>VMRobotControl.Transforms.Twist</code></a></li><li><a href="../../developer/developer/#VMRobotControl.TypeStableCollections.TypeStableCollection-Tuple{}"><code>VMRobotControl.TypeStableCollections.TypeStableCollection</code></a></li><li><a href="../../developer/developer/#VMRobotControl.TypeStableCollections.TypeStableCollection"><code>VMRobotControl.TypeStableCollections.TypeStableCollection</code></a></li><li><a href="../../developer/developer/#VMRobotControl.TypeStableCollections.TypeStableIdx"><code>VMRobotControl.TypeStableCollections.TypeStableIdx</code></a></li><li><a href="#VMRobotControl.URDF.URDFParserConfig"><code>VMRobotControl.URDF.URDFParserConfig</code></a></li><li><a href="#VMRobotControl.UnrotatedCoord"><code>VMRobotControl.UnrotatedCoord</code></a></li><li><a href="#VMRobotControl.VirtualMechanismSystem"><code>VMRobotControl.VirtualMechanismSystem</code></a></li><li><a href="#VMRobotControl.Prismatic"><code>VMRobotControl.Prismatic</code></a></li><li><a href="#VMRobotControl.RSON.parseRSON"><code>VMRobotControl.RSON.parseRSON</code></a></li><li><a href="../../developer/developer/#VMRobotControl.RSON.parseRSONString"><code>VMRobotControl.RSON.parseRSONString</code></a></li><li><a href="../../developer/developer/#VMRobotControl.RSON.parseRSONVersion"><code>VMRobotControl.RSON.parseRSONVersion</code></a></li><li><a href="#VMRobotControl.RSON.serializeRSON"><code>VMRobotControl.RSON.serializeRSON</code></a></li><li><a href="#VMRobotControl.Rail"><code>VMRobotControl.Rail</code></a></li><li><a href="#VMRobotControl.Revolute"><code>VMRobotControl.Revolute</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Spherical"><code>VMRobotControl.Spherical</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Splines.curve_derivative"><code>VMRobotControl.Splines.curve_derivative</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Splines.curve_position"><code>VMRobotControl.Splines.curve_position</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Splines.curve_second_derivative"><code>VMRobotControl.Splines.curve_second_derivative</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Transforms.AxisAngleDerivative-Union{Tuple{T}, Tuple{Any, T}} where T"><code>VMRobotControl.Transforms.AxisAngleDerivative</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Transforms.angular_velocity_prematrix-Tuple{Rotor}"><code>VMRobotControl.Transforms.angular_velocity_prematrix</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Transforms.angular_velocity_prematrix_derivative-Tuple{SVector{4}}"><code>VMRobotControl.Transforms.angular_velocity_prematrix_derivative</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Transforms.quaternion_derivative_propagation-Tuple{Rotor}"><code>VMRobotControl.Transforms.quaternion_derivative_propagation</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Transforms.quaternion_derivative_propagation_derivative-Tuple{Rotor, SVector{3}}"><code>VMRobotControl.Transforms.quaternion_derivative_propagation_derivative</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Transforms.quatmul_geodual_bivector_matrix-Tuple{Rotor}"><code>VMRobotControl.Transforms.quatmul_geodual_bivector_matrix</code></a></li><li><a href="../../developer/developer/#VMRobotControl.Transforms.skew-Union{Tuple{SVector{3, T}}, Tuple{T}} where T"><code>VMRobotControl.Transforms.skew</code></a></li><li><a href="../../developer/developer/#VMRobotControl.TypeStableCollections.extend-Union{Tuple{T}, Tuple{TUPTYPE}, Tuple{VMRobotControl.TypeStableCollections.TypeStableCollection{TUPTYPE}, T}} where {TUPTYPE, T}"><code>VMRobotControl.TypeStableCollections.extend</code></a></li><li><a href="../../developer/developer/#VMRobotControl.TypeStableCollections.push_return_index!-Union{Tuple{T}, Tuple{TUPTYPE}, Tuple{VMRobotControl.TypeStableCollections.TypeStableCollection{TUPTYPE}, T}} where {TUPTYPE, T}"><code>VMRobotControl.TypeStableCollections.push_return_index!</code></a></li><li><a href="#VMRobotControl.URDF.parseURDF"><code>VMRobotControl.URDF.parseURDF</code></a></li><li><a href="../../developer/developer/#VMRobotControl.URDF.parseURDFString"><code>VMRobotControl.URDF.parseURDFString</code></a></li><li><a href="../../developer/developer/#VMRobotControl._add_jacobian_transpose_times_force!"><code>VMRobotControl._add_jacobian_transpose_times_force!</code></a></li><li><a href="../../developer/developer/#VMRobotControl._construct_coordinate_graph"><code>VMRobotControl._construct_coordinate_graph</code></a></li><li><a href="#VMRobotControl.acceleration_kinematics!"><code>VMRobotControl.acceleration_kinematics!</code></a></li><li><a href="#VMRobotControl.add_component!"><code>VMRobotControl.add_component!</code></a></li><li><a href="#VMRobotControl.add_coordinate!"><code>VMRobotControl.add_coordinate!</code></a></li><li><a href="#VMRobotControl.add_frame!"><code>VMRobotControl.add_frame!</code></a></li><li><a href="#VMRobotControl.add_gravity_compensation!"><code>VMRobotControl.add_gravity_compensation!</code></a></li><li><a href="#VMRobotControl.add_gravity_compensator!"><code>VMRobotControl.add_gravity_compensator!</code></a></li><li><a href="#VMRobotControl.add_inertia!"><code>VMRobotControl.add_inertia!</code></a></li><li><a href="#VMRobotControl.add_joint!"><code>VMRobotControl.add_joint!</code></a></li><li><a href="#VMRobotControl.assemble_state"><code>VMRobotControl.assemble_state</code></a></li><li><a href="../../developer/developer/#VMRobotControl.autodiff_jacobian_column"><code>VMRobotControl.autodiff_jacobian_column</code></a></li><li><a href="../../developer/developer/#VMRobotControl.child_frame_twist"><code>VMRobotControl.child_frame_twist</code></a></li><li><a href="../../developer/developer/#VMRobotControl.child_rbstate"><code>VMRobotControl.child_rbstate</code></a></li><li><a href="#VMRobotControl.compile"><code>VMRobotControl.compile</code></a></li><li><a href="#VMRobotControl.components"><code>VMRobotControl.components</code></a></li><li><a href="#VMRobotControl.config_size"><code>VMRobotControl.config_size</code></a></li><li><a href="#VMRobotControl.configuration"><code>VMRobotControl.configuration</code></a></li><li><a href="#VMRobotControl.control_step!"><code>VMRobotControl.control_step!</code></a></li><li><a href="#VMRobotControl.coordinates"><code>VMRobotControl.coordinates</code></a></li><li><a href="#VMRobotControl.dissipations"><code>VMRobotControl.dissipations</code></a></li><li><a href="#VMRobotControl.dynamics!"><code>VMRobotControl.dynamics!</code></a></li><li><a href="../../developer/developer/#VMRobotControl.frame_ancestor_matrix"><code>VMRobotControl.frame_ancestor_matrix</code></a></li><li><a href="#VMRobotControl.frames"><code>VMRobotControl.frames</code></a></li><li><a href="#VMRobotControl.generalized_force!"><code>VMRobotControl.generalized_force!</code></a></li><li><a href="#VMRobotControl.generic_components"><code>VMRobotControl.generic_components</code></a></li><li><a href="#VMRobotControl.get_angular_acceleration"><code>VMRobotControl.get_angular_acceleration</code></a></li><li><a href="#VMRobotControl.get_angular_jacobian"><code>VMRobotControl.get_angular_jacobian</code></a></li><li><a href="#VMRobotControl.get_angular_vel"><code>VMRobotControl.get_angular_vel</code></a></li><li><a href="#VMRobotControl.get_angular_vpa"><code>VMRobotControl.get_angular_vpa</code></a></li><li><a href="#VMRobotControl.get_compiled_componentID"><code>VMRobotControl.get_compiled_componentID</code></a></li><li><a href="#VMRobotControl.get_compiled_coordID"><code>VMRobotControl.get_compiled_coordID</code></a></li><li><a href="#VMRobotControl.get_compiled_frameID"><code>VMRobotControl.get_compiled_frameID</code></a></li><li><a href="#VMRobotControl.get_compiled_jointID"><code>VMRobotControl.get_compiled_jointID</code></a></li><li><a href="#VMRobotControl.get_generalized_force"><code>VMRobotControl.get_generalized_force</code></a></li><li><a href="#VMRobotControl.get_inertance_matrix"><code>VMRobotControl.get_inertance_matrix</code></a></li><li><a href="#VMRobotControl.get_linear_acceleration"><code>VMRobotControl.get_linear_acceleration</code></a></li><li><a href="#VMRobotControl.get_linear_jacobian"><code>VMRobotControl.get_linear_jacobian</code></a></li><li><a href="#VMRobotControl.get_linear_vel"><code>VMRobotControl.get_linear_vel</code></a></li><li><a href="#VMRobotControl.get_linear_vpa"><code>VMRobotControl.get_linear_vpa</code></a></li><li><a href="#VMRobotControl.get_ode_dynamics"><code>VMRobotControl.get_ode_dynamics</code></a></li><li><a href="#VMRobotControl.get_ode_problem"><code>VMRobotControl.get_ode_problem</code></a></li><li><a href="#VMRobotControl.get_q"><code>VMRobotControl.get_q</code></a></li><li><a href="#VMRobotControl.get_q̇"><code>VMRobotControl.get_q̇</code></a></li><li><a href="#VMRobotControl.get_q̈"><code>VMRobotControl.get_q̈</code></a></li><li><a href="#VMRobotControl.get_rbstate"><code>VMRobotControl.get_rbstate</code></a></li><li><a href="#VMRobotControl.get_t"><code>VMRobotControl.get_t</code></a></li><li><a href="#VMRobotControl.get_transform"><code>VMRobotControl.get_transform</code></a></li><li><a href="#VMRobotControl.get_u"><code>VMRobotControl.get_u</code></a></li><li><a href="#VMRobotControl.inertance_matrix!"><code>VMRobotControl.inertance_matrix!</code></a></li><li><a href="#VMRobotControl.inertances"><code>VMRobotControl.inertances</code></a></li><li><a href="#VMRobotControl.jacobian"><code>VMRobotControl.jacobian</code></a></li><li><a href="../../developer/developer/#VMRobotControl.jacobian_column"><code>VMRobotControl.jacobian_column</code></a></li><li><a href="#VMRobotControl.jacobians!"><code>VMRobotControl.jacobians!</code></a></li><li><a href="../../developer/developer/#VMRobotControl.joint_relative_acceleration"><code>VMRobotControl.joint_relative_acceleration</code></a></li><li><a href="../../developer/developer/#VMRobotControl.joint_relative_transform"><code>VMRobotControl.joint_relative_transform</code></a></li><li><a href="../../developer/developer/#VMRobotControl.joint_relative_twist"><code>VMRobotControl.joint_relative_twist</code></a></li><li><a href="../../developer/developer/#VMRobotControl.joint_relative_vpa"><code>VMRobotControl.joint_relative_vpa</code></a></li><li><a href="#VMRobotControl.joints"><code>VMRobotControl.joints</code></a></li><li><a href="#VMRobotControl.kinematics!"><code>VMRobotControl.kinematics!</code></a></li><li><a href="#VMRobotControl.name"><code>VMRobotControl.name</code></a></li><li><a href="#VMRobotControl.ndof"><code>VMRobotControl.ndof</code></a></li><li><a href="#VMRobotControl.new_control_cache"><code>VMRobotControl.new_control_cache</code></a></li><li><a href="#VMRobotControl.new_dynamics_cache"><code>VMRobotControl.new_dynamics_cache</code></a></li><li><a href="#VMRobotControl.new_jacobians_cache"><code>VMRobotControl.new_jacobians_cache</code></a></li><li><a href="#VMRobotControl.new_kinematics_cache"><code>VMRobotControl.new_kinematics_cache</code></a></li><li><a href="#VMRobotControl.new_rbstates_cache"><code>VMRobotControl.new_rbstates_cache</code></a></li><li><a href="#VMRobotControl.num_frames"><code>VMRobotControl.num_frames</code></a></li><li><a href="#VMRobotControl.opspace_force"><code>VMRobotControl.opspace_force</code></a></li><li><a href="#VMRobotControl.precompute!"><code>VMRobotControl.precompute!</code></a></li><li><a href="../../developer/developer/#VMRobotControl.reassign_coords"><code>VMRobotControl.reassign_coords</code></a></li><li><a href="../../developer/developer/#VMRobotControl.reassign_frames"><code>VMRobotControl.reassign_frames</code></a></li><li><a href="../../developer/developer/#VMRobotControl.reassign_joints"><code>VMRobotControl.reassign_joints</code></a></li><li><a href="../../developer/developer/#VMRobotControl.remake"><code>VMRobotControl.remake</code></a></li><li><a href="../../developer/developer/#VMRobotControl.rigid_joint_twist"><code>VMRobotControl.rigid_joint_twist</code></a></li><li><a href="#VMRobotControl.root_frame"><code>VMRobotControl.root_frame</code></a></li><li><a href="../../developer/developer/#VMRobotControl.state_idxs"><code>VMRobotControl.state_idxs</code></a></li><li><a href="#VMRobotControl.storages"><code>VMRobotControl.storages</code></a></li><li><a href="#VMRobotControl.stored_energy"><code>VMRobotControl.stored_energy</code></a></li><li><a href="#VMRobotControl.velocity"><code>VMRobotControl.velocity</code></a></li><li><a href="#VMRobotControl.velocity_kinematics!"><code>VMRobotControl.velocity_kinematics!</code></a></li><li><a href="#VMRobotControl.velocity_size"><code>VMRobotControl.velocity_size</code></a></li><li><a href="#VMRobotControl.visuals"><code>VMRobotControl.visuals</code></a></li><li><a href="#VMRobotControl.zero_q"><code>VMRobotControl.zero_q</code></a></li><li><a href="#VMRobotControl.zero_q̇"><code>VMRobotControl.zero_q̇</code></a></li><li><a href="#VMRobotControl.zero_q̈"><code>VMRobotControl.zero_q̈</code></a></li><li><a href="#VMRobotControl.zero_u"><code>VMRobotControl.zero_u</code></a></li></ul><h2 id="Loading-from-RSON/URDF"><a class="docs-heading-anchor" href="#Loading-from-RSON/URDF">Loading from RSON/URDF</a><a id="Loading-from-RSON/URDF-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-from-RSON/URDF" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.RSON.parseRSON" href="#VMRobotControl.RSON.parseRSON"><code>VMRobotControl.RSON.parseRSON</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parseRSON(filepath::AbstractString, [cfg::RSONParserConfig])</code></pre><p>Parse a <code>Mechanism</code> or <code>VirtualMechanismSystem</code> from an RSON file (with a .rson extension).</p><p>See also <a href="../../developer/developer/#VMRobotControl.RSON.parseRSONString"><code>parseRSONString</code></a>, <a href="#VMRobotControl.RSON.serializeRSON"><code>serializeRSON</code></a>, <a href="#VMRobotControl.RSON.RSONParserConfig"><code>RSONParserConfig</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/rson/parsing.jl#L164-L170">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.URDF.parseURDF" href="#VMRobotControl.URDF.parseURDF"><code>VMRobotControl.URDF.parseURDF</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parseURDF(filepath::AbstractString, [cfg::URDFParserConfig])
parseURDF(cfg::URDFParserConfig)</code></pre><p>Parse a <code>Mechanism</code> from a URDF file. If filepath is provided, a default config is used.  If ONLY cfg is provided, the URDF file path must be set in the config.</p><p>See also <a href="../../developer/developer/#VMRobotControl.URDF.parseURDFString"><code>parseURDFString</code></a>, [<code>URDFParserConfig</code>]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/urdf/parse_urdf.jl#L47-L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.RSON.RSONParserConfig" href="#VMRobotControl.RSON.RSONParserConfig"><code>VMRobotControl.RSON.RSONParserConfig</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutable struct RSONParserConfig(; kwargs...)</code></pre><p>Configuration for the RSON parser.</p><p><strong>Fields</strong></p><p><strong>Options</strong></p><ul><li><code>element_type::Type</code>: Type of the elements in the mechanism. Default is <code>Float64</code>.</li><li><code>parse_visuals::Bool</code>: Whether to parse visuals. Default is <code>true</code>.</li><li><code>error_on_not_supported::Bool</code>: Whether to throw an error if an unsupported feature is encountered. Default is <code>false</code>.</li><li><code>error_on_not_recognized::Bool</code>: Whether to throw an error if an unrecognized key is encountered. Default is <code>true</code>.</li><li><code>suppress_warnings::Bool</code>: Whether to suppress warnings. Default is <code>false</code>.</li><li><code>default_material::RGBA</code>: Default material for visuals. Default is <code>RGBA(0.8, 0.8, 0.8, 1.0)</code>.</li></ul><p><strong>Fields used by the parser</strong></p><ul><li><code>rson_path::String</code>: Path to the RSON file parsed. (Used to locate meshes)</li><li><code>rson_version::Tuple{Int, Int, Int}</code>: Version of the RSON file parsed.</li><li><code>named_materials::Dict{String, RGBA}</code>: Named materials for visuals. Default is an empty dictionary.</li></ul><p><strong>Internal</strong></p><ul><li><code>name_stack::Vector{String}</code>: Stack of names for error messages.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/rson/parsing.jl#L1-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.URDF.URDFParserConfig" href="#VMRobotControl.URDF.URDFParserConfig"><code>VMRobotControl.URDF.URDFParserConfig</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>mutable struct URDFParserConfig</p><p>Used to configure the URDF parser. WARNING: may be modified during parsing (e.g. materials are added to named materials).</p><p><strong>Fields</strong></p><ul><li><code>urdf_path::String</code>: Path to the URDF file.</li><li><code>element_type::Type</code>: eltype to build the mechanism with, default <code>Float64</code>.</li><li><code>parse_visuals::Bool</code>: Whether to parse visual elements, default <code>true</code>.</li><li><code>error_on_not_supported::Bool</code>: Whether to error on unsupported URDF features, default <code>false</code>.</li><li><code>error_on_not_recognized::Bool</code>: Whether to error on unrecognized URDF features, default <code>true</code>.</li><li><code>suppress_warnings::Bool</code>: Whether to suppress warnings, default <code>false</code>.</li><li><code>default_material::RGBA</code>: Default colour to use for visuals, default <code>RGBA(0.8, 0.8, 0.8, 1.0)</code>.</li><li><code>named_materials::Dict{String, RGBA}</code>: Named materials to use for visuals, default <code>Dict()</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/urdf/parse_urdf.jl#L12-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.RSON.serializeRSON" href="#VMRobotControl.RSON.serializeRSON"><code>VMRobotControl.RSON.serializeRSON</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">serializeRSON(filepath, m::Union{Mechanism, VirtualMechanismSystem})</code></pre><p>Takes a mechanism or virtual mechanism system and serializes it to a file at <code>filepath</code> in the RSON  format. </p><p>When handling visuals, the mesh data is serialized as a list of vertices and faces. </p><p>Does not guarantee that a parsed RSON is serialized back into an identical RSON, but the mechanism should be the same.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/rson/serializing.jl#L19-L29">source</a></section></article><h2 id="Building"><a class="docs-heading-anchor" href="#Building">Building</a><a id="Building-1"></a><a class="docs-heading-anchor-permalink" href="#Building" title="Permalink"></a></h2><h3 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Mechanism" href="#VMRobotControl.Mechanism"><code>VMRobotControl.Mechanism</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Mechanism{T}(name; with_root_frame=true)</code></pre><p>A rigid body &#39;Mechanism&#39;, composed of reference frames, joints, coordinates and  dynamic components.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L181-L186">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.VirtualMechanismSystem" href="#VMRobotControl.VirtualMechanismSystem"><code>VMRobotControl.VirtualMechanismSystem</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">VirtualMechanismSystem{T}(name)
VirtualMechanismSystem(name, robot::Mechanism{T}, [virtual_mechanism::Mechanism{T}])</code></pre><p>Construct a virtual mechanism system. If only a name is provided, then an empty virtual mechanism  system is created, and the robot/virtual mechanism can be accessed by the <code>robot</code> and <code>virtual_mechanism</code> fields.</p><p>Coordinates and components can then be added to the virtual mechanism system, and these can act  inbetween the robot and the virtual mechanism. Coordinates on the robot/virtual mechanism can be  referenced using the naming syntax <code>&quot;.robot.coordID&quot;</code> or <code>&quot;.virtual_mechanism.coordID&quot;</code>.</p><p>Note: the robot and virtual mechanism are not copied, so modifying them after creating the virtual  mechanism system WILL modify the virtual mechanism system.</p><p>See also <a href="#VMRobotControl.Mechanism"><code>Mechanism</code></a>, <a href="#VMRobotControl.add_coordinate!"><code>add_coordinate!</code></a>, <a href="#VMRobotControl.add_component!"><code>add_component!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L239-L255">source</a></section></article><h3 id="Accessing-Mechanisms/Virtual-Mechanism-Systems"><a class="docs-heading-anchor" href="#Accessing-Mechanisms/Virtual-Mechanism-Systems">Accessing Mechanisms/Virtual Mechanism Systems</a><a id="Accessing-Mechanisms/Virtual-Mechanism-Systems-1"></a><a class="docs-heading-anchor-permalink" href="#Accessing-Mechanisms/Virtual-Mechanism-Systems" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.name" href="#VMRobotControl.name"><code>VMRobotControl.name</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">name(m::Union{Mechanism, CompiledMechanism, VirtualMechanismSystem, CompiledVirtualMechanismSystem})</code></pre><p>Returns the name of the mechanism.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L13-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.frames" href="#VMRobotControl.frames"><code>VMRobotControl.frames</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">frames(m::Union{Mechanism, CompiledMechanism})</code></pre><p>Returns a vector of the names of the frames in the mechanism.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L21-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.num_frames" href="#VMRobotControl.num_frames"><code>VMRobotControl.num_frames</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">num_frames(m::Union{Mechanism, CompiledMechanism})</code></pre><p>Returns the number of reference frames in the mechanism.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L28-L32">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.root_frame" href="#VMRobotControl.root_frame"><code>VMRobotControl.root_frame</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">root_frame(m::Union{Mechanism, CompiledMechanism})</code></pre><p>Returns the name of the first frame of the mechanism. This should be the root frame of the tree and should be called &quot;root_frame&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L35-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.joints" href="#VMRobotControl.joints"><code>VMRobotControl.joints</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">joints(m::Union{Mechanism, CompiledMechanism})</code></pre><p>Returns joints in the mechanism. </p><p>If <code>m&lt;:Union{Mechanism, VirtualMechanismSystem}</code> this is an OrderedDict. Mutating it WILL mutate the mechanism. If <code>m&lt;:Union{CompiledMechanism, CompiledVirtualMechanismSystem}</code>  this is a <code>TypeStableCollection</code>. Mutating the returned collection WILL mutate the mechanism.</p><p>It is recommended to use <a href="#VMRobotControl.add_joint!"><code>add_joint!</code></a> to add joints to the mechanism, and <a href="#VMRobotControl.get_compiled_jointID"><code>get_compiled_jointID</code></a> to get an ID/index for modifying joints in compiled systems.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L43-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.coordinates" href="#VMRobotControl.coordinates"><code>VMRobotControl.coordinates</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">coordinates(m::Union{Mechanism, CompiledMechanism, VirtualMechanismSystem, CompiledVirtualMechanismSystem})</code></pre><p>Returns the coordinates of the system. </p><p>If <code>m&lt;:Union{Mechanism, VirtualMechanismSystem}</code> this is a Dict. Mutating the returned Dict WILL mutate the mechanism. If <code>m&lt;:Union{CompiledMechanism, CompiledVirtualMechanismSystem}</code>  this is a <code>TypeStableCollection</code>. Mutating the returned collection WILL mutate the mechanism.</p><p>It is recommended to use <a href="#VMRobotControl.add_coordinate!"><code>add_coordinate!</code></a> to add coordinates to the mechanism, and  <a href="#VMRobotControl.get_compiled_coordID"><code>get_compiled_coordID</code></a> to get an ID/index for modifying coordinates in compiled systems.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L56-L66">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.components" href="#VMRobotControl.components"><code>VMRobotControl.components</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">components(m::Union{Mechanism, CompiledMechanism, VirtualMechanismSystem, CompiledVirtualMechanismSystem})</code></pre><p>Returns the dynamic components of the mechanism (e.g. springs/dampers/masses). </p><p>If <code>m&lt;:Union{Mechanism, VirtualMechanismSystem}</code> this is a Dict. Mutating the returned Dict WILL mutate the mechanism. If <code>m&lt;:Union{CompiledMechanism, CompiledVirtualMechanismSystem}</code>  this is a <code>TypeStableCollection</code>. Mutating the returned collection WILL mutate the mechanism.</p><p>It is recommended to use <a href="#VMRobotControl.add_component!"><code>add_component!</code></a> to add components to the mechanism, and <a href="#VMRobotControl.get_compiled_componentID"><code>get_compiled_componentID</code></a> to get an ID/index for modifying components in compiled systems.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L69-L78">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.config_size" href="#VMRobotControl.config_size"><code>VMRobotControl.config_size</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">config_size(m::Union{Mechanism, CompiledMechanism})</code></pre><p>Returns the number of configuration variables in the mechanism (e.g. the number of joint angles), the length of the joint configuration vector <code>q</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L81-L86">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.velocity_size" href="#VMRobotControl.velocity_size"><code>VMRobotControl.velocity_size</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">velocity_size(m::Union{Mechanism, CompiledMechanism})</code></pre><p>Returns the number of velocity variables in the mechanism (e.g. the number of joint velocities), the length of the joint velocity vector <code>q̇</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L89-L94">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.ndof" href="#VMRobotControl.ndof"><code>VMRobotControl.ndof</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ndof(m::Union{Mechanism, CompiledMechanism, VirtualMechanismSystem, CompiledVirtualMechanismSystem})</code></pre><p>The number of degrees of freedom of the system.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L97-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.inertances" href="#VMRobotControl.inertances"><code>VMRobotControl.inertances</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">inertances(m::Union{Mechanism, CompiledMechanism, VirtualMechanismSystem, CompiledVirtualMechanismSystem})</code></pre><p>Returns the inertance components of the system.</p><p>If <code>m&lt;:Union{Mechanism, VirtualMechanismSystem}</code> this is a Dict formed by filtering the components by <code>Inertance</code> type:  mutating the returned Dict WILL NOT mutate the mechanism.</p><p>If <code>m&lt;:Union{CompiledMechanism, CompiledVirtualMechanismSystem}</code>  this is a <code>TypeStableCollection</code> made from a subset of the vectors in the components TypeStableCollection. Mutating the returned collection WILL mutate the mechanism.</p><p>It is recommended to use <a href="#VMRobotControl.add_component!"><code>add_component!</code></a> to add components to the mechanism, and <a href="#VMRobotControl.get_compiled_componentID"><code>get_compiled_componentID</code></a> to get an ID/index for modifying components in compiled systems.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L104-L116">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.storages" href="#VMRobotControl.storages"><code>VMRobotControl.storages</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">storages(m::AbstractMechanism)</code></pre><p>Returns the storage components from mechanism.</p><p>If <code>m&lt;:Union{Mechanism, VirtualMechanismSystem}</code> this is a Dict formed by filtering the components by <code>Storage</code> type: mutating the returned Dict WILL NOT mutate the mechanism.</p><p>If <code>m&lt;:Union{CompiledMechanism, CompiledVirtualMechanismSystem}</code> this is a <code>TypeStableCollection</code> made from a subset of the vectors in the components TypeStableCollection. Mutating the returned collection WILL mutate the mechanism.</p><p>It is recommended to use <a href="#VMRobotControl.add_component!"><code>add_component!</code></a> to add components to the mechanism, and <a href="#VMRobotControl.get_compiled_componentID"><code>get_compiled_componentID</code></a> to get an ID/index for modifying components in compiled systems.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L119-L131">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.dissipations" href="#VMRobotControl.dissipations"><code>VMRobotControl.dissipations</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dissipations(m::AbstractMechanism)</code></pre><p>Returns the dissipation components from mechanism.</p><p>If <code>m&lt;:Union{Mechanism, VirtualMechanismSystem}</code> this is a Dict formed by filtering the components by <code>Dissipation</code> type: mutating the returned Dict WILL NOT mutate the mechanism.</p><p>If <code>m&lt;:Union{CompiledMechanism, CompiledVirtualMechanismSystem}</code> this is a <code>TypeStableCollection</code> made from a subset of the vectors in the components TypeStableCollection. Mutating the returned collection WILL mutate the mechanism.</p><p>It is recommended to use <a href="#VMRobotControl.add_component!"><code>add_component!</code></a> to add components to the mechanism, and <a href="#VMRobotControl.get_compiled_componentID"><code>get_compiled_componentID</code></a> to get an ID/index for modifying components in compiled systems.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L134-L146">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.generic_components" href="#VMRobotControl.generic_components"><code>VMRobotControl.generic_components</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">generic_components(m::AbstractMechanism)</code></pre><p>Returns the generic components from mechanism.</p><p>If <code>m&lt;:Union{Mechanism, VirtualMechanismSystem}</code> this is a Dict formed by filtering the components by <code>GenericComponent</code> type: mutating the returned Dict WILL NOT mutate the mechanism.</p><p>If <code>m&lt;:Union{CompiledMechanism, CompiledVirtualMechanismSystem}</code> this is a <code>TypeStableCollection</code> made from a subset of the vectors in the components TypeStableCollection. Mutating the returned collection WILL mutate the mechanism.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L149-L159">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.visuals" href="#VMRobotControl.visuals"><code>VMRobotControl.visuals</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">visuals(m::AbstractMechanism)</code></pre><p>Returns the visual components from mechanism.</p><p>If <code>m&lt;:Union{Mechanism, VirtualMechanismSystem}</code> this is a Dict formed by filtering the components by <code>Visual</code> type: mutating the returned Dict WILL NOT mutate the mechanism.</p><p>If <code>m&lt;:Union{CompiledMechanism, CompiledVirtualMechanismSystem}</code> this is a <code>TypeStableCollection</code> made from a subset of the vectors in the components TypeStableCollection. Mutating the returned collection WILL mutate the mechanism.</p><p>It is recommended to use <a href="#VMRobotControl.add_component!"><code>add_component!</code></a> to add components to the mechanism, and <a href="#VMRobotControl.get_compiled_componentID"><code>get_compiled_componentID</code></a> to get an ID/index for modifying components in compiled systems.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L162-L174">source</a></section></article><h3 id="Building-methods"><a class="docs-heading-anchor" href="#Building-methods">Building methods</a><a id="Building-methods-1"></a><a class="docs-heading-anchor-permalink" href="#Building-methods" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.add_frame!" href="#VMRobotControl.add_frame!"><code>VMRobotControl.add_frame!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_frame!(m::Mechanism; id::String)</code></pre><p>Add a frame to a mechanism. The name must be unique.</p><p>See also <a href="#VMRobotControl.frames"><code>frames</code></a>, <a href="#VMRobotControl.add_joint!"><code>add_joint!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L396-L402">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.add_joint!" href="#VMRobotControl.add_joint!"><code>VMRobotControl.add_joint!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_joint!(mechanism, jointdata; [parent, child, jointID, check_frames_exist::Bool])</code></pre><p>Add a joint to a mechanism. Returns the joint id.</p><p><strong>Arguments</strong></p><ul><li><code>jointID</code>: the name of the joint, a String. If not provided, a unique jointID is created.</li><li><code>parent</code>: the name of the parent frame, a String. If not provided, then the default is the most recently added frame.</li><li><code>child</code> the name of the child frame, a String. If not provided, adds a new frame to the robot. </li><li><code>check_frames_exist</code>: if true, then check that the parent and child frame already exist in the   mechanism. If false, then this check is skipped. In this case the frames are not added to the   mechanism.</li></ul><p><strong>See Also</strong></p><p>To add a frame to a mechanism see <a href="#VMRobotControl.add_frame!"><code>add_frame!</code></a>. For more information on types of joint see <a href="../../developer/developer/#VMRobotControl.AbstractJointData"><code>AbstractJointData</code></a> and <a href="../../developer/developer/#VMRobotControl.MechanismJoint"><code>MechanismJoint</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L416-L432">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.add_coordinate!" href="#VMRobotControl.add_coordinate!"><code>VMRobotControl.add_coordinate!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_coordinate!(m::Mechanism, c::CoordinateData; id::String)
add_coordinate!(m::VirtualMechanismSystem, c::CoordinateData; id::String)</code></pre><p>Add a coordinate to a mechanism or virtual mechanism system. The <code>coordID</code> is the name of the  coordinate. </p><p>See also <a href="#VMRobotControl.get_compiled_coordID"><code>get_compiled_coordID</code></a>, <a href="#VMRobotControl.configuration"><code>configuration</code></a>, <a href="#VMRobotControl.velocity"><code>velocity</code></a>,  <a href="@ref"><code>acceleration</code></a>, <a href="#VMRobotControl.jacobian"><code>jacobian</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L516-L525">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.add_component!" href="#VMRobotControl.add_component!"><code>VMRobotControl.add_component!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_component!(m::Mechanism, c::ComponentData; id::String)
add_component!(m::VirtualMechanismSystem, c::ComponentData; id::String)</code></pre><p>Add a coordinate to a mechanism or virtual mechanism system. The <code>coordID</code> is the name of the  coordinate. </p><p>See also <a href="#VMRobotControl.get_compiled_componentID"><code>get_compiled_componentID</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanism.jl#L555-L563">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.add_inertia!" href="#VMRobotControl.add_inertia!"><code>VMRobotControl.add_inertia!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_inertia!(mechanism, frameID, inertia; id, coordID=nothing)</code></pre><p>Add an inertia to a mechanism. A FrameAngularVelocity coordinate is added to the mechanism, on the frame with ID <code>frameID</code>, and is given the ID <code>coordID</code> if  provided. </p><p>The inertia is defined by a 3x3 matrix <code>inertia</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/inertances.jl#L103-L111">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.add_gravity_compensation!" href="#VMRobotControl.add_gravity_compensation!"><code>VMRobotControl.add_gravity_compensation!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_gravity_compensation!(system, gravity)</code></pre><p>Add gravity compensators for all point masses.</p><p>If system is a <code>VirtualMechanismSystem</code>, then only point masses in the robot are compensated, and the <code>GravityCompensator</code> components are added to the system, so that they are treated as  part of the controller, not part of the robot.  </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/storages.jl#L186-L194">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.add_gravity_compensator!" href="#VMRobotControl.add_gravity_compensator!"><code>VMRobotControl.add_gravity_compensator!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_gravity_compensator!(mechanism, point_mass, gravity; id=nothing)</code></pre><p>Add a gravity compensator to componsate for <code>point_mass</code>, when subject to <code>gravity</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/storages.jl#L175-L179">source</a></section></article><h2 id="Using"><a class="docs-heading-anchor" href="#Using">Using</a><a id="Using-1"></a><a class="docs-heading-anchor-permalink" href="#Using" title="Permalink"></a></h2><h3 id="Compiling-and-Cache-bundles"><a class="docs-heading-anchor" href="#Compiling-and-Cache-bundles">Compiling and Cache-bundles</a><a id="Compiling-and-Cache-bundles-1"></a><a class="docs-heading-anchor-permalink" href="#Compiling-and-Cache-bundles" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.compile" href="#VMRobotControl.compile"><code>VMRobotControl.compile</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compile(m::Mechanism)
compile(m::VirtualMechanismSystem)</code></pre><p>Compile a <code>Mechanism</code> or <code>VirtualMechanismSystem</code> into an immutable form used for computations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/compiled_mechanisms.jl#L2-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.new_kinematics_cache" href="#VMRobotControl.new_kinematics_cache"><code>VMRobotControl.new_kinematics_cache</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">new_kinematics_cache(m[, T])</code></pre><p>Creates a cache with element type <code>::T</code> (defaulting to the eltype of the mechanism) for performing  kinematics computations for a compiled mechanism or compiled virtual mechanism system. </p><p>This cache supports computation of frame transforms and coordinate <a href="#VMRobotControl.configuration"><code>configuration</code></a>&#39;s, but do NOT support computing jacobians or velocities.</p><p>This type of cache is commonly used for plotting, where only the frame transforms are needed.</p><p>See also <a href="#VMRobotControl.kinematics!"><code>kinematics!</code></a>, <a href="#VMRobotControl.new_jacobians_cache"><code>new_jacobians_cache</code></a>, <a href="#VMRobotControl.new_rbstates_cache"><code>new_rbstates_cache</code></a>,  <a href="#VMRobotControl.new_dynamics_cache"><code>new_dynamics_cache</code></a>, </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/interface.jl#L629-L642">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.new_jacobians_cache" href="#VMRobotControl.new_jacobians_cache"><code>VMRobotControl.new_jacobians_cache</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">new_jacobians_cache(m[, T])</code></pre><p>Creates a cache with element type <code>::T</code> (defaulting to the eltype of the mechanism) for performing kinematics and jacobian computations for a compiled mechanism or compiled virtual mechanism system.</p><p>This cache supports computation of frame transforms and jacobians, <a href="#VMRobotControl.configuration"><code>configuration</code></a> and  <a href="#VMRobotControl.jacobian"><code>jacobian</code></a> for coordinates, but do NOT support velocities.</p><p>See also <a href="#VMRobotControl.jacobians!">jacobians!</a>, <a href="#VMRobotControl.new_rbstates_cache"><code>new_rbstates_cache</code></a>, <a href="#VMRobotControl.new_dynamics_cache"><code>new_dynamics_cache</code></a>, </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/interface.jl#L645-L655">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.new_rbstates_cache" href="#VMRobotControl.new_rbstates_cache"><code>VMRobotControl.new_rbstates_cache</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">new_rbstates_cache(m[, T])</code></pre><p>Creates a cache with element type <code>::T</code> (defaulting to the eltype of the mechanism) for performing kinematics and velocity computations for a compiled mechanism or compiled virtual mechanism system.</p><p>This cache supports computation of frame transforms, velocities and accelerations. Depending on which computation is performed, <a href="#VMRobotControl.velocity_kinematics!"><code>velocity_kinematics!</code></a> or  <a href="#VMRobotControl.acceleration_kinematics!"><code>acceleration_kinematics!</code></a>, the acceleration will either be a true acceleration dependant upon joint accelerations q̈, or the velocity product acceleration, which is the acceleration assuming q̈ = 0. It supports <a href="#VMRobotControl.configuration"><code>configuration</code></a>, <a href="#VMRobotControl.velocity"><code>velocity</code></a>, and <a href="@ref"><code>acceleration</code></a>, for coordinates. It does NOT support jacobians or generalized forces/torques.</p><p>See also <a href="#VMRobotControl.velocity_kinematics!"><code>velocity_kinematics!</code></a> <a href="#VMRobotControl.new_dynamics_cache"><code>new_dynamics_cache</code></a>, </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/interface.jl#L658-L673">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.new_dynamics_cache" href="#VMRobotControl.new_dynamics_cache"><code>VMRobotControl.new_dynamics_cache</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">new_dynamics_cache(m[, T])</code></pre><p>Creates a cache with element type <code>::T</code> (defaulting to the eltype of the mechanism) for performing kinematics, jacobian, and velocity computations for a compiled mechanism or compiled virtual mechanism system, as well as generalized forces/torques from components, the inertance matrix, of the system, and the acceleration of the system, q̈.</p><p>This cache supports computation of frame transforms, velocities, velocity-product-accelerations, and jacobians. It also supports <a href="#VMRobotControl.configuration"><code>configuration</code></a>, <a href="#VMRobotControl.velocity"><code>velocity</code></a>, <a href="@ref"><code>acceleration</code></a>, and <a href="#VMRobotControl.jacobian"><code>jacobian</code></a> for coordinates.</p><p>See also <a href="#VMRobotControl.dynamics!"><code>dynamics!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/interface.jl#L676-L690">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.new_control_cache" href="#VMRobotControl.new_control_cache"><code>VMRobotControl.new_control_cache</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">new_control_cache(m[, T])</code></pre><p>Creates a cache with element type <code>::T</code> (defaulting to the eltype of the mechanism) for controlling a robot with a virtual mechanism controller.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Components attached to the <em>robot</em> will <em>NOT</em> be used for control.  The components on the robot represent the <em>model</em> of the robot, and are not considered part of  the controller. If you wish to control the robot, you must add components to the <em><code>VirtualMechanismSystem</code></em>. If your component uses a coordinate from the robot, you can add it to the <code>VirtualMechanismSystem</code> and refer to the coordinate using the id <code>&quot;.robot.&lt;coord_id&gt;&quot;</code></p></div></div><p>See also <a href="#VMRobotControl.control_step!"><code>control_step!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/interface.jl#L697-L706">source</a></section></article><h3 id="Accessing-data-from-cache-bundles"><a class="docs-heading-anchor" href="#Accessing-data-from-cache-bundles">Accessing data from cache-bundles</a><a id="Accessing-data-from-cache-bundles-1"></a><a class="docs-heading-anchor-permalink" href="#Accessing-data-from-cache-bundles" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_rbstate" href="#VMRobotControl.get_rbstate"><code>VMRobotControl.get_rbstate</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_rbstate(cache, frame::CompiledFrameID)</code></pre><p>Returns the rigid body state of <code>frame</code> from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L291-L295">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_transform" href="#VMRobotControl.get_transform"><code>VMRobotControl.get_transform</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_transform(cache, frame::CompiledFrameID)</code></pre><p>Returns the transform of the <code>frame</code> from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L298-L302">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_linear_vel" href="#VMRobotControl.get_linear_vel"><code>VMRobotControl.get_linear_vel</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_linear_vel(cache, frame::CompiledFrameID)</code></pre><p>Returns the linear velocity of the origin of <code>frame</code> from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L305-L309">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_angular_vel" href="#VMRobotControl.get_angular_vel"><code>VMRobotControl.get_angular_vel</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_angular_vel(cache, frame::CompiledFrameID)</code></pre><p>Returns the angular velocity of the <code>frame</code> from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L312-L316">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_linear_vpa" href="#VMRobotControl.get_linear_vpa"><code>VMRobotControl.get_linear_vpa</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_linear_vpa(cache, frame::CompiledFrameID)</code></pre><p>Returns the linear velocity product acceleration of the origin of <code>frame</code> from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L319-L323">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_angular_vpa" href="#VMRobotControl.get_angular_vpa"><code>VMRobotControl.get_angular_vpa</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_angular_vpa(cache, frame::CompiledFrameID)</code></pre><p>Returns the angular velocity product acceleration of <code>frame</code> from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L326-L330">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_linear_acceleration" href="#VMRobotControl.get_linear_acceleration"><code>VMRobotControl.get_linear_acceleration</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_linear_acceleration(cache, frame::CompiledFrameID)</code></pre><p>Returns the total linear acceleration of the origin of <code>frame</code> from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L333-L337">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_angular_acceleration" href="#VMRobotControl.get_angular_acceleration"><code>VMRobotControl.get_angular_acceleration</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_angular_acceleration(cache, frame::CompiledFrameID)</code></pre><p>Returns the total angular acceleration of <code>frame</code> from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L340-L344">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_linear_jacobian" href="#VMRobotControl.get_linear_jacobian"><code>VMRobotControl.get_linear_jacobian</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_linear_jacobian(cache, frame::CompiledFrameID)</code></pre><p>Returns the linear Jacobian of <code>frame</code> from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L348-L352">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_angular_jacobian" href="#VMRobotControl.get_angular_jacobian"><code>VMRobotControl.get_angular_jacobian</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_angular_jacobian(cache, frame::CompiledFrameID)</code></pre><p>Returns the angular Jacobian of <code>frame</code> from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L355-L359">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_t" href="#VMRobotControl.get_t"><code>VMRobotControl.get_t</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_t(cache)</code></pre><p>Returns the time from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L362-L366">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_q" href="#VMRobotControl.get_q"><code>VMRobotControl.get_q</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_q(cache)</code></pre><p>Returns the joint configurations from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L369-L373">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_q̇" href="#VMRobotControl.get_q̇"><code>VMRobotControl.get_q̇</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_q̇(cache)</code></pre><p>Returns the joint velocities from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L376-L380">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_q̈" href="#VMRobotControl.get_q̈"><code>VMRobotControl.get_q̈</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_q̈(cache)</code></pre><p>Returns the joint accelerations from the cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L383-L387">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_u" href="#VMRobotControl.get_u"><code>VMRobotControl.get_u</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_u(cache)</code></pre><p>Returns the additional joint torques from the cache. </p><p>This can be used during <code>f_control</code> to apply additional torques to the system, by modifying the  returned torques inplace. By default, these torques are zero until set otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L390-L397">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_inertance_matrix" href="#VMRobotControl.get_inertance_matrix"><code>VMRobotControl.get_inertance_matrix</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_inertance_matrix(cache)</code></pre><p>Returns the inertance matrix in the cache.</p><p>For a virtual mechanism system, this is a tuple of inertance matrices: one for the robot and one  for the virtual mechanism.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L411-L418">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_generalized_force" href="#VMRobotControl.get_generalized_force"><code>VMRobotControl.get_generalized_force</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_generalized_force(cache)</code></pre><p>Returns the generalized forces in the cache.</p><p>For a virtual mechanism system, this is a tuple of vectors: one for the robot and one for the  virtual mechanism.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/mechanismcache.jl#L401-L408">source</a></section></article><h3 id="Computations"><a class="docs-heading-anchor" href="#Computations">Computations</a><a id="Computations-1"></a><a class="docs-heading-anchor-permalink" href="#Computations" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.kinematics!" href="#VMRobotControl.kinematics!"><code>VMRobotControl.kinematics!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">kinematics!(bundle, t, q)</code></pre><p>Compute the kinematics/transforms for the system.</p><p><strong>Arguments</strong></p><ul><li><code>t</code> time</li><li><code>q</code> joint configuration vector</li></ul><p>See also <a href="#VMRobotControl.get_transform"><code>get_transform</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/interface.jl#L55-L65">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.jacobians!" href="#VMRobotControl.jacobians!"><code>VMRobotControl.jacobians!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">jacobians!(bundle, t, q)</code></pre><p>Compute the Jacobians for the mechanism at time <code>t</code> and configuration <code>q</code> and store them in <code>cache.jacobians</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/interface.jl#L107-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.velocity_kinematics!" href="#VMRobotControl.velocity_kinematics!"><code>VMRobotControl.velocity_kinematics!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">velocity_kinematics!(cache, t, q, q̇)</code></pre><p>Compute the velocities of the system at time <code>t</code> and configuration <code>q</code>, with velocities <code>q̇</code>, and store them in <code>cache.rbstates</code>. Also computes the velocity product accelerations (i.e. accelerations assuming q̈ = 0).</p><p>Also computes the kinematics as a prerequisite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/interface.jl#L169-L177">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.acceleration_kinematics!" href="#VMRobotControl.acceleration_kinematics!"><code>VMRobotControl.acceleration_kinematics!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">acceleration_kinematics!(bundle, t, q, q̇, q̈)</code></pre><p>Compute the accelerations for the mechanism with known joint-accelerations <code>q̈</code>.</p><p>Also computes the kinematics/velocities as prerequisites.</p><p><strong>Arguments</strong></p><ul><li><code>t</code> time</li><li><code>q</code> joint configuration vector</li><li><code>q̇</code> joint velocity vector</li><li><code>q̈</code> joint acceleration vector</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/interface.jl#L131-L143">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.precompute!" href="#VMRobotControl.precompute!"><code>VMRobotControl.precompute!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">precompute!(cache, t, q, q̇, gravity, u)</code></pre><p>Precompute the necessary quantities for the dynamics of the mechanism at time <code>t</code> and configuration  <code>q</code>, with velocities <code>q̇</code>, gravitational acceleration <code>gravity</code>, and generalized forces <code>u</code>.</p><p>This includes the velocity kinematics and Jacobians, and stores the results in <code>cache</code>.  The accelerations q̈ are not computed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/interface.jl#L205-L213">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.generalized_force!" href="#VMRobotControl.generalized_force!"><code>VMRobotControl.generalized_force!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">generalized_force!(τ, bundle::CacheBundle, c::ComponentData)</code></pre><p>Using the current state of the the cache, calculates the generalized force due to component <code>c</code>, and adds it to <code>τ</code>. </p><p>Typically <code>τ</code> is a vector from the cache, but it is kept as an argument to allow for more flexibility in the use of this function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/components.jl#L39-L47">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.inertance_matrix!" href="#VMRobotControl.inertance_matrix!"><code>VMRobotControl.inertance_matrix!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">inertance_matrix!(M, bundle::CacheBundle, c::ComponentData)</code></pre><p>Using the current state of the cache, calculates the inertance matrix due to component <code>c</code>, and adds it to <code>M</code>. </p><p>Typically <code>M</code> is a matrix from the cache, but it is kept as an argument to allow for more flexibility in the use of this function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/components.jl#L93-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.dynamics!" href="#VMRobotControl.dynamics!"><code>VMRobotControl.dynamics!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">dynamics!(cache, t, q, q̇, gravity, [u])</code></pre><p>Compute the accelerations for the mechanism at time <code>t</code> and configuration <code>q</code>, with velocities <code>q̇</code>, gravitational acceleration <code>gravity</code>, and generalized forces <code>u</code>, and store the results in the  cache.</p><p>If <code>u</code> is not provided, it is assumed to be zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/interface.jl#L354-L362">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.control_step!" href="#VMRobotControl.control_step!"><code>VMRobotControl.control_step!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">control_step!(bundle, t, qʳ, q̇ʳ)</code></pre><p>Perform a step of the control loop for the system.</p><p>Inputs are the current time <code>t</code>, the robot joint configuration <code>qʳ</code>, and the robot joint velocity  <code>q̇ʳ</code>.</p><p>The elapsed time <code>dt</code> is computed from the previous time  and <code>t</code>. The virtual mechanism state is updated using a forward Euler step with the computed acceleration <code>q̈ᵛ</code> and the elapsed time <code>dt</code>.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Components attached to the <em>robot</em> will <em>NOT</em> be used for control.  The components on the robot represent the <em>model</em> of the robot, and are not considered part of  the controller. If you wish to control the robot, you must add components to the <em><code>VirtualMechanismSystem</code></em>. If your component uses a coordinate from the robot, you can add it to the <code>VirtualMechanismSystem</code> and refer to the coordinate using the id <code>&quot;.robot.&lt;coord_id&gt;&quot;</code></p></div></div><p>Returns the torques to be applied to the robot.</p><p>See also <a href="#VMRobotControl.control_step!"><code>control_step!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/interface.jl#L560-L576">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.stored_energy" href="#VMRobotControl.stored_energy"><code>VMRobotControl.stored_energy</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">stored_energy(bundle::MechanismCacheBundle, c::ComponentData)</code></pre><p>Computes the stored energy of component <code>c</code>, kinetic and potential.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/components.jl#L80-L84">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.opspace_force" href="#VMRobotControl.opspace_force"><code>VMRobotControl.opspace_force</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">opspace_force(bundle::MechanismCacheBundle, c::ComponentData)</code></pre><p>Calulates and returns the operational space force due to component <code>c</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/components.jl#L52-L56">source</a></section></article><h3 id="Accessing-compiled-frames/coords/joints/components"><a class="docs-heading-anchor" href="#Accessing-compiled-frames/coords/joints/components">Accessing compiled frames/coords/joints/components</a><a id="Accessing-compiled-frames/coords/joints/components-1"></a><a class="docs-heading-anchor-permalink" href="#Accessing-compiled-frames/coords/joints/components" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_compiled_frameID" href="#VMRobotControl.get_compiled_frameID"><code>VMRobotControl.get_compiled_frameID</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_compiled_frameID(m::Union{CompiledMechanism, CompiledVirtualMechanismSystem}, c::String)</code></pre><p>Returns compiled frame ID of frame with name <code>c</code>. This can be used to get the frames&#39;s transform, velocity, jacobian etc. from a kinematics/dynamics cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/compiled_mechanisms.jl#L11-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_compiled_coordID" href="#VMRobotControl.get_compiled_coordID"><code>VMRobotControl.get_compiled_coordID</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_compiled_coordID(m::Union{CompiledMechanism, CompiledVirtualMechanismSystem}, c::String)</code></pre><p>Returns the compiled coordinate ID of a coordinate with name <code>c</code>. This can be used to get the  configuration/velocity/jacobian of a coordinate from a kinematics/dynamics cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/compiled_mechanisms.jl#L28-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_compiled_jointID" href="#VMRobotControl.get_compiled_jointID"><code>VMRobotControl.get_compiled_jointID</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_compiled_jointID(m::Union{CompiledMechanism, CompiledVirtualMechanismSystem}, c::String)</code></pre><p>Returns the compiled joint ID of a joint with name <code>c</code>. This can be used to change the joint data for a compiled system, e.g. when numerically optimizing the robot structure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/compiled_mechanisms.jl#L19-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_compiled_componentID" href="#VMRobotControl.get_compiled_componentID"><code>VMRobotControl.get_compiled_componentID</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_compiled_componentID(m::Union{CompiledMechanism, CompiledVirtualMechanismSystem}, c::String)</code></pre><p>Returns the compiled component ID of a component with name <code>c</code>. Can be used to mutate the component data of a compiled mechanism, or recompute information such as the force generated by the component.  </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/compiled_mechanisms.jl#L36-L41">source</a></section></article><h3 id="Setting-up-simulations"><a class="docs-heading-anchor" href="#Setting-up-simulations">Setting up simulations</a><a id="Setting-up-simulations-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-up-simulations" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_ode_dynamics" href="#VMRobotControl.get_ode_dynamics"><code>VMRobotControl.get_ode_dynamics</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_ode_dynamics(cache, gravity; [f_setup, f_control])</code></pre><p>Returns a function for the autonomous ODE dynamics of the mechanism in the form     <code>̇x = f(x, p, t)</code> where the parameters p are ignored.</p><p>This form is used for DifferentialEquations.jl</p><p><strong><code>f_setup</code>, <code>f_control</code>, and <code>f_shutdown</code></strong></p><p>The optional keyword arguments <code>f_setup</code> and <code>f_control</code> are functions that can be used  to implement custom behaviour.</p><ul><li><code>f_setup(cache)</code> is called once before starting.</li><li><code>f_control(cache, t, setup_ret, extra)</code> is called at each time step to allow for custom control  logic. <code>setup_ret</code> is the return value of <code>f_setup</code>, and can be used to initialize variables  before the controller starts. You can directly modify the robot/virtual mechanism state in this function, or modify the vectors returned by <code>get_u(cache)</code> to apply additional actuation to the robot or virtual mechanism.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/interface.jl#L772-L791">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.assemble_state" href="#VMRobotControl.assemble_state"><code>VMRobotControl.assemble_state</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">assemble_state(m::Union{CompiledMechanism, CompiledVirtualMechanismSystem}, q, q̇)</code></pre><p>Assembles a state vector from a configuration <code>q</code> and velocity <code>q̇</code>. This is useful for setting up ODEs for simulation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/compiled_mechanisms.jl#L44-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.get_ode_problem" href="#VMRobotControl.get_ode_problem"><code>VMRobotControl.get_ode_problem</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_ode_problem(cache, gravity, q, q̇, tspan, [p, f_setup, f_control]; kwargs...)</code></pre><p>Construct an ODE problem. See also <a href="#VMRobotControl.get_ode_dynamics"><code>VMRobotControl.get_ode_dynamics</code></a>. initial conditions are given by <code>q</code> and <code>q̇</code>.</p><p>DifferentialEquations.jl must be loaded for this method to be defined: <code>using DifferentialEquations</code> Implementations are in in ./ext/VMRobotControlDifferentialEquationsExt.jl</p><p><code>p</code> and <code>kwargs</code> are optional arguments that can be used to customize the <code>ODEProblem</code>. <code>f_setup</code> and <code>f_control</code> are optional arguments that can be used to customize the dynamics function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/interface.jl#L864-L875">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.zero_q" href="#VMRobotControl.zero_q"><code>VMRobotControl.zero_q</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">zero_q(m::Union{CompiledMechanism, CompiledVirtualMechanismSystem})</code></pre><p>Returns a zero configuration for the system. For a mechanism, this is a vector of zeros, and for a virtual mechanism system, this is a tuple of vectors of zeros (one for the robot, one for the virtual mechanism).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/compiled_mechanisms.jl#L52-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.zero_q̇" href="#VMRobotControl.zero_q̇"><code>VMRobotControl.zero_q̇</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">zero_q̇(m::Union{CompiledMechanism, CompiledVirtualMechanismSystem})</code></pre><p>Returns a zero velocity for the system. For a mechanism, this is a vector of zeros, and for a virtual mechanism system, this is a tuple of vectors of zeros (one for the robot, one for the virtual mechanism).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/compiled_mechanisms.jl#L62-L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.zero_q̈" href="#VMRobotControl.zero_q̈"><code>VMRobotControl.zero_q̈</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">zero_q̈(m::Union{CompiledMechanism, CompiledVirtualMechanismSystem})</code></pre><p>Returns a zero acceleration for the system. For a mechanism, this is a vector of zeros, and for a virtual mechanism system, this is a tuple of vectors of zeros (one for the robot, one for the virtual mechanism).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/compiled_mechanisms.jl#L71-L77">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.zero_u" href="#VMRobotControl.zero_u"><code>VMRobotControl.zero_u</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">zero_u(m::Union{CompiledMechanism, CompiledVirtualMechanismSystem})</code></pre><p>Returns a zero control input for the system. For a mechanism, this is a vector of zeros, and for a virtual mechanism system, this is a tuple of vectors of zeros (one for the robot, one for the virtual mechanism).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/compiled_mechanisms.jl#L80-L86">source</a></section></article><h2 id="Plotting"><a class="docs-heading-anchor" href="#Plotting">Plotting</a><a id="Plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting" title="Permalink"></a></h2><h2 id="Joints"><a class="docs-heading-anchor" href="#Joints">Joints</a><a id="Joints-1"></a><a class="docs-heading-anchor-permalink" href="#Joints" title="Permalink"></a></h2><h3 id="AbstractJointData-types"><a class="docs-heading-anchor" href="#AbstractJointData-types">AbstractJointData types</a><a id="AbstractJointData-types-1"></a><a class="docs-heading-anchor-permalink" href="#AbstractJointData-types" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Rigid" href="#VMRobotControl.Rigid"><code>VMRobotControl.Rigid</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Rigid(::Transform)</code></pre><p>A rigid joint, defined simply by a transformation from the child frame to the  parent frame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/joints/joint_definitions.jl#L36-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Revolute" href="#VMRobotControl.Revolute"><code>VMRobotControl.Revolute</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Revolute(axis::SVector{3})
Revolute(axis::SVector{3}, tf::Transform)</code></pre><p>Represents a revolute/rotating joint between two frames. The transform from the child frame to the parent frame is <code>tf * Transform(AxisAngle(axis, q))</code>.</p><p><code>axis</code> must be normalized: <code>norm(axis)≈1.0</code>.</p><p>See also <a href="#VMRobotControl.Prismatic"><code>Prismatic</code></a>, <a href="#VMRobotControl.Rail"><code>Rail</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/joints/joint_definitions.jl#L84-L94">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Prismatic" href="#VMRobotControl.Prismatic"><code>VMRobotControl.Prismatic</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Prismatic(axis::SVector{3})
Prismatic(axis::SVector{3}, tf::Transform)</code></pre><p>Represents a prismatic/sliding joint between two frames. The transform from the child frame to the parent frame is <code>tf * Transform(q*axis).</code> The axis does not have to be normalized.</p><p>See also <a href="#VMRobotControl.Revolute"><code>Revolute</code></a>, <a href="#VMRobotControl.Rail"><code>Rail</code></a>, </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/joints/joint_definitions.jl#L115-L124">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Rail" href="#VMRobotControl.Rail"><code>VMRobotControl.Rail</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Rail(spline, tf::Transform)
Rail(spline)</code></pre><p>Represents a prismatic/sliding joint where the joint slides along a bezier  spline. The child frame is not rotated relative to the parent frame, (unless tf causes a rotation). </p><p>The origin of the parent frame for joint variable <code>q</code> is  <code>tf * spline_position(spline, q)</code>.</p><p>See also <a href="#VMRobotControl.Prismatic"><code>Prismatic</code></a>, <a href="#VMRobotControl.Revolute"><code>Revolute</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/joints/joint_definitions.jl#L139-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.ReferenceJoint" href="#VMRobotControl.ReferenceJoint"><code>VMRobotControl.ReferenceJoint</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ReferenceJoint(::Transform)</code></pre><p>A ReferenceJoint does not exhibit dynamics, but can it&#39;s transform can be mutated, so that it may act as a motion source. The transform is stored as A RefValue, which you can set/getcan like: <code>joint.transform[]</code>.</p><p>Be careful when changing the transform–-if you are doing many simulations you may need to deepcopy to avoid aliasing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/joints/joint_definitions.jl#L51-L60">source</a></section></article><h2 id="Coordinates"><a class="docs-heading-anchor" href="#Coordinates">Coordinates</a><a id="Coordinates-1"></a><a class="docs-heading-anchor-permalink" href="#Coordinates" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.CoordinateData" href="#VMRobotControl.CoordinateData"><code>VMRobotControl.CoordinateData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CoordinateData</code></pre><p>An abstract type representing an operation space coordinate.</p><p>See also: <a href="#VMRobotControl.configuration"><code>configuration</code></a>, <a href="#VMRobotControl.velocity"><code>velocity</code></a>, <a href="#VMRobotControl.jacobian"><code>jacobian</code></a> and <a href="@ref"><code>acceleration</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinates.jl#L1-L7">source</a></section></article><h3 id="Coordinate-Interface"><a class="docs-heading-anchor" href="#Coordinate-Interface">Coordinate Interface</a><a id="Coordinate-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Coordinate-Interface" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.configuration" href="#VMRobotControl.configuration"><code>VMRobotControl.configuration</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>configuration(cache, coordinate)</p><p>Returns the configuration of the operation space coordinate <code>coordinate</code> z.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_interface.jl#L18-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.velocity" href="#VMRobotControl.velocity"><code>VMRobotControl.velocity</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">velocity(cache, coordinate)</code></pre><p>Returns the velocity of the operation space coordinate <code>coordinate</code> ż, the  derivative of the configuration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_interface.jl#L29-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.jacobian" href="#VMRobotControl.jacobian"><code>VMRobotControl.jacobian</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">jacobian(cache, coordinate)</code></pre><p>Return the jacobian of the operation space coordinate <code>coordinate</code> J, such that ż = Jq̇, where ż is the opspaceVelocity and q̇ are the joint velocities.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_interface.jl#L40-L45">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>vpa</code>. Check Documenter&#39;s build log for details.</p></div></div><h3 id="Coordinate-types"><a class="docs-heading-anchor" href="#Coordinate-types">Coordinate types</a><a id="Coordinate-types-1"></a><a class="docs-heading-anchor-permalink" href="#Coordinate-types" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.CoordDifference" href="#VMRobotControl.CoordDifference"><code>VMRobotControl.CoordDifference</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CoordDifference(parent, child)
CoordDifference(;parent, child)</code></pre><p>Represents the difference between two coordinates. For example if both coordinates are cartesian  postions, then this represents the vector from one to the other.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_definitions.jl#L5-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.CoordStack" href="#VMRobotControl.CoordStack"><code>VMRobotControl.CoordStack</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CoordStack(c1, c2)
CoordStack(;c1, c2)</code></pre><p>Represents the vertical concatenation of two coordinates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_definitions.jl#L93-L98">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.CoordSlice" href="#VMRobotControl.CoordSlice"><code>VMRobotControl.CoordSlice</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CoordSlice(coordid, idxs::SVector{N, Int})</code></pre><p>A coordinate made by indexing into another coordinate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_definitions.jl#L129-L133">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.CoordSum" href="#VMRobotControl.CoordSum"><code>VMRobotControl.CoordSum</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CoordSum(c1, c2)
CoordSum(;c1, 1child)</code></pre><p>Represents the sum of two coordinates. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_definitions.jl#L49-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.ConstCoord" href="#VMRobotControl.ConstCoord"><code>VMRobotControl.ConstCoord</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ConstCoord(::SVector)</code></pre><p>A constant coordinate. Can be used with coordinate differences to shift the equilibrium of a spring.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_definitions.jl#L167-L171">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.JointSubspace" href="#VMRobotControl.JointSubspace"><code>VMRobotControl.JointSubspace</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">JointSubspace(jointid)</code></pre><p>Represents the configuration of the joint identified by <code>jointid</code>. </p><p>When compiled, is replaced with the compiled mechanism joint representation. This is because the joint type is needed to know the size of the joint.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_definitions.jl#L222-L229">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.FrameOrigin" href="#VMRobotControl.FrameOrigin"><code>VMRobotControl.FrameOrigin</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FrameOrigin(frameID)</code></pre><p>The position of the origin of frame <code>frameID</code> in the world.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_definitions.jl#L279-L283">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.FramePoint" href="#VMRobotControl.FramePoint"><code>VMRobotControl.FramePoint</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FramePoint(frameID, point::SVector{3})</code></pre><p>A point fixed in the frame designated by <code>frameID</code>. <code>point</code> is the position of the point in the frame. The configuration of this coordinate is the vector to the point,  represented in the root frame of the mechanism.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_definitions.jl#L251-L257">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.FrameAngularVelocity" href="#VMRobotControl.FrameAngularVelocity"><code>VMRobotControl.FrameAngularVelocity</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FrameAngularVelocity(frameID)</code></pre><p>The angular velocity for frame <code>frameID</code> in world frame. Used to implement rotational inertia components..</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_definitions.jl#L338-L343">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.QuaternionAttitude" href="#VMRobotControl.QuaternionAttitude"><code>VMRobotControl.QuaternionAttitude</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">QuaternionAttitude(frameID)</code></pre><p>The rotation for frame <code>frameID</code> in the world, as the vector part of the  the quaternion. Can be combined with a linear spring for continuous attitude control.</p><p>See &quot;Quaternion-based impedance with nondiagonal stiffness for robot  manipulators&quot; by Fabrizio Caccavale et al, 1998 IEEE ACC.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_definitions.jl#L304-L313">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.ReferenceCoord" href="#VMRobotControl.ReferenceCoord"><code>VMRobotControl.ReferenceCoord</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ReferenceCoord(::Base.RefValue{SVector{N, T}})</code></pre><p>A reference coordinate. By keeping a reference to a coordinate, it can be  modified in place.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_definitions.jl#L193-L198">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.RotatedCoord" href="#VMRobotControl.RotatedCoord"><code>VMRobotControl.RotatedCoord</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>RotatedCoord(world<em>frame</em>coord, frameID)</p><p>Rotates world<em>frame</em>coordinate z⁽ʷ⁾ to the frame of link designated by frameID, such that z = R⁻¹ z⁽ʷ⁾.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_definitions.jl#L388-L393">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.UnrotatedCoord" href="#VMRobotControl.UnrotatedCoord"><code>VMRobotControl.UnrotatedCoord</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>UnrotatedCoord(link<em>frame</em>coord, frameID)</p><p>Rotates link frame coordinate z⁽ˡ⁾ from the frame of link designated by frameID, to the world frame, so that  z = Rʷˡ z⁽ˡ⁾.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/coordinates/coordinate_definitions.jl#L414-L419">source</a></section></article><h2 id="Components"><a class="docs-heading-anchor" href="#Components">Components</a><a id="Components-1"></a><a class="docs-heading-anchor-permalink" href="#Components" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Storage" href="#VMRobotControl.Storage"><code>VMRobotControl.Storage</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Storage{T} &lt;: ComponentData{T}</code></pre><p>Supertype for components that act as potential energy storages, with float type <code>T</code>.</p><p>These must support implement <code>stored_energy</code> and <code>generalized_force!</code>, typically by  implementing <code>_stored_energy</code> and <code>_opspace_force</code> functions, respectively.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/storages.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.LinearSpring" href="#VMRobotControl.LinearSpring"><code>VMRobotControl.LinearSpring</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LinearSpring(stiffness, coord::OperationSpace)</code></pre><p>A linear spring acting on the provided coordinate. The spring stiffness  <code>stiffness</code> can be any type that supports multiplication with the coordinate&#39;s  configuration, but should be positive definite to ensure it&#39;s energy is bounded below, and should not cause allocations when multiplied (i.e. use a Float64 or  an SMatrix).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/storages.jl#L15-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.TanhSpring" href="#VMRobotControl.TanhSpring"><code>VMRobotControl.TanhSpring</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TanhSpring(coord::OperationSpace; stiffness, max_force)</code></pre><p>A spring which applies a force of magnitude tanh(|extension|) acting on the  provided coordinate. The spring can be configured in terms of 2 of 3 variables: either a <code>width</code> a <code>max_force</code>, or a <code>stiffness</code>, which are each scalar.</p><p>The force is determined as:     F = kβ tanh(|z|/β) z/|z| where <code>z</code> is the coordinate&#39;s configuration, <code>β</code> is the width of the spring, and <code>k</code><code>is the stiffness. The max force σ is</code>kβ`.</p><p>This is useful as the tanh function saturates to a constant force for large  extensions, which can prevent the robot from applying too much force.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/storages.jl#L61-L75">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.GaussianSpring" href="#VMRobotControl.GaussianSpring"><code>VMRobotControl.GaussianSpring</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">GaussianSpring(σ, stiffness, coordid)
GaussianSpring(coordid; stiffness, max_force, width)</code></pre><p>A spring with a Gaussian energy profile, which is useful for acting as a localized attractive/repulsive force (repulsive when stiffness is negative).</p><p>The energy function is a gaussian with std deviation <code>σ</code>, scaled so that the gradient of it&#39;s derivative (the force) is <code>k</code> at |z|=0:     E = -kσ² exp( -|z|²/(2σ²) ) where <code>z</code> is the coordinate&#39;s configuration.</p><p>When calling with keyword arguments, specify any two, as this fully defines  the Gaussian energy function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/storages.jl#L222-L236">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.GravityCompensator" href="#VMRobotControl.GravityCompensator"><code>VMRobotControl.GravityCompensator</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">GravityCompensator(mass::T, coord::OperationSpace{3}, gravity::SVector{3, T})
GravityCompensator(;mass, coord, gravity=DEFAULT_GRAVITY)</code></pre><p>An energy storage acting in the opposite direction to the vector <code>gravity</code>. Can be used to compensate for the potential energy of a pointmass on the same coordinate, without affecting inertia.</p><p>Note that the stored energy is potentially unbounded for robots with unbounded workspace, but is reported as the potential energy of the mass at the current configuration.</p><p>See also <a href="#VMRobotControl.add_gravity_compensator!"><code>add_gravity_compensator!</code></a>, <a href="#VMRobotControl.add_gravity_compensation!"><code>add_gravity_compensation!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/storages.jl#L134-L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.ForceSource" href="#VMRobotControl.ForceSource"><code>VMRobotControl.ForceSource</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ForceSource(force_max, power_max, coord)</code></pre><p>A power source which applies force  up to <code>force_max</code> in the direction of <code>force_max</code> maximum with power <code>power_max</code>. The force is applied at <code>coord</code>. </p><p>If power max is a scalar, then it represents a maximum power flow into the system. If it is a tuple of two scalars, then the first element bounds power flow into the system, and the second element bounds the power flow out of the system.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/storages.jl#L380-L389">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.PowerSource" href="#VMRobotControl.PowerSource"><code>VMRobotControl.PowerSource</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PowerSource(force_max, power_max, coord)</code></pre><p>A power source which applies a force up to <code>force_max</code> in the direction that will inject power into the system up to <code>power_max</code>. Cannot extract power from the system. The force is applied at <code>coord</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/storages.jl#L436-L441">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.LinearDamper" href="#VMRobotControl.LinearDamper"><code>VMRobotControl.LinearDamper</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LinearDamper(damping, coord::OperationSpace)</code></pre><p>A linear damper acting on the provided coordinate. The damping coefficient  <code>damping</code> can be any type that supports multiplication with the coordinate&#39;s  velocity, but should be positive definite to ensure it is dissipative, and should not cause allocations when multiplied (i.e. use a Float64 or an SMatrix).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/dissipations.jl#L15-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.TanhDamper" href="#VMRobotControl.TanhDamper"><code>VMRobotControl.TanhDamper</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TanhDamper(max_force, width, coord::OperationSpace)</code></pre><p>A damper that applies a constant damping force above a certain velocity, using a tanh function. The <code>width</code> parameter determines the shape of the tanh, at 2<em>width, the damping force is ~95% of the  maximum, and at 3</em>width, the damping force is ~99.5% of the maximum.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/dissipations.jl#L139-L145">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.RectifiedDamper" href="#VMRobotControl.RectifiedDamper"><code>VMRobotControl.RectifiedDamper</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RectifiedDamper(damping, coord::OperationSpace, bounds, flipped, diodic)</code></pre><p>A linear damper acting on the provided coordinate only in a certain position  range. If position <code>z</code> is greater than ub, full damping is applied, if it is between the lower bound and upper bound, partial damping is applied, and if it  is less than the lower bound, no damping is applied.</p><p>If <code>flipped</code> is true, this is inverted and the damper is applied when <code>z</code> is  less than the lower bound, and not applied when <code>z</code> is greater than the upper.</p><p>If <code>diodic</code> is true, the damper is applied only when the velocity is positive (or negative if <code>flipped</code> is true).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/dissipations.jl#L51-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.DiodicDamper" href="#VMRobotControl.DiodicDamper"><code>VMRobotControl.DiodicDamper</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DiodicDamper(damping, coord::OperationSpace, flipped)</code></pre><p>A that acts only when the velocity is positive (or negative if <code>flipped</code> is  true).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/dissipations.jl#L109-L114">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.LinearInerter" href="#VMRobotControl.LinearInerter"><code>VMRobotControl.LinearInerter</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LinearInerter(inertance, coord)</code></pre><p>A linear inertance with inertance matrix <code>inertance</code> across coordinate <code>coord</code>. </p><p>The <code>inertance</code> matrix should be positive definite, and should multiply with the velocity vector to produce a force vector, or the jacobian to produce an inertance matrix. It should not cause allocation when multiplied (i.e use  <code>SMatrix</code> or <code>Float64</code>).</p><p>A linear inerter will have the same inerting effect as a point mass if the inertance equals the mass, and the coordinate is the center of mass, but is  not subject to gravity.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/inertances.jl#L16-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.Inertia" href="#VMRobotControl.Inertia"><code>VMRobotControl.Inertia</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Inertia(inertia::SMatrix{3, 3}, coord)</code></pre><p>A rotational inertia. Coord must be a <a href="#VMRobotControl.FrameAngularVelocity"><code>FrameAngularVelocity</code></a> coordinate.</p><p>See also <a href="#VMRobotControl.add_inertia!"><code>add_inertia!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/inertances.jl#L91-L97">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="VMRobotControl.PointMass" href="#VMRobotControl.PointMass"><code>VMRobotControl.PointMass</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PointMass(mass, coord_id)</code></pre><p>A point mass with mass <code>mass</code> at coordinate <code>coord</code>. The coord should be a 3 dimensional in the global frame, such as a <a href="#VMRobotControl.FrameOrigin"><code>FrameOrigin</code></a> or a <a href="#VMRobotControl.FramePoint"><code>FramePoint</code></a>.</p><p>The point mass is subject to gravity. This can be compensated using a <a href="#VMRobotControl.GravityCompensator"><code>GravityCompensator</code></a> component, or avoided by using a <a href="#VMRobotControl.LinearInerter"><code>LinearInerter</code></a> instead of a point mass.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Cambridge-Control-Lab/VMRobotControl.jl/blob/c16bd5deff3c04a8b7e2491c8dd606f84b5fd2fc/src/components/generic_components.jl#L20-L28">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../examples/rail_robot/">« Pendulum on a Bezier-Spline Rail</a><a class="docs-footer-nextpage" href="../../developer/developer/">Developer Notes »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Friday 17 January 2025 13:14">Friday 17 January 2025</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
